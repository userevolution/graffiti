{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/logoRainbow.svg","webpack:///./src/App.vue?1bf6","webpack:///./src/components/Canvas.vue?1162","webpack:///./src/config.js","webpack:///./src/utils.js","webpack:///src/components/Canvas.vue","webpack:///./src/components/Canvas.vue?5d92","webpack:///./src/components/Canvas.vue","webpack:///./src/components/Panels.vue?20f6","webpack:///./src/components/ConnectPanel.vue?b27f","webpack:///src/components/ConnectPanel.vue","webpack:///./src/components/ConnectPanel.vue?b390","webpack:///./src/components/ConnectPanel.vue","webpack:///./src/components/Account/AccountPanel.vue?73d7","webpack:///./src/components/Account/Deposit.vue?32ef","webpack:///src/components/Account/Deposit.vue","webpack:///./src/components/Account/Deposit.vue?36c7","webpack:///./src/components/Account/Deposit.vue","webpack:///./src/components/Account/Withdraw.vue?be59","webpack:///src/components/Account/Withdraw.vue","webpack:///./src/components/Account/Withdraw.vue?7d45","webpack:///./src/components/Account/Withdraw.vue","webpack:///src/components/Account/AccountPanel.vue","webpack:///./src/components/Account/AccountPanel.vue?04f0","webpack:///./src/components/Account/AccountPanel.vue","webpack:///./src/components/PixelPanel.vue?2911","webpack:///./src/components/BuyModal.vue?c52a","webpack:///src/components/BuyModal.vue","webpack:///./src/components/BuyModal.vue?0d9b","webpack:///./src/components/BuyModal.vue?78f5","webpack:///src/components/PixelPanel.vue","webpack:///./src/components/PixelPanel.vue?d451","webpack:///./src/components/PixelPanel.vue","webpack:///./src/components/OwnedPixelPanel.vue?576d","webpack:///./src/components/ChangePrice.vue?d097","webpack:///src/components/ChangePrice.vue","webpack:///./src/components/ChangePrice.vue?1325","webpack:///./src/components/ChangePrice.vue","webpack:///./src/components/ChangeColor.vue?56d2","webpack:///src/components/ChangeColor.vue","webpack:///./src/components/ChangeColor.vue?a481","webpack:///./src/components/ChangeColor.vue","webpack:///src/components/OwnedPixelPanel.vue","webpack:///./src/components/OwnedPixelPanel.vue?e997","webpack:///./src/components/OwnedPixelPanel.vue","webpack:///./src/components/AboutModal.vue?c8d4","webpack:///src/components/AboutModal.vue","webpack:///./src/components/AboutModal.vue?054d","webpack:///./src/components/AboutModal.vue","webpack:///src/components/Panels.vue","webpack:///./src/components/Panels.vue?5bd3","webpack:///./src/components/Panels.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/BuyModal.vue?9a40"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","wrongNetwork","on","onPixelSelected","onCursorPixelChanged","selectedPixel","cursorPixel","staticRenderFns","ref","onMouseDown","onMouseMove","onMouseUp","onWheel","gridSize","taxRate","colorsHexAndRGBA","colorsHex","colorsRGBA","colorHexIndices","entries","hex","rgba","pixelCoordsToID","coords","width","idToPixelCoords","id","x","y","Math","floor","console","assert","shortenAddress","address","address1","substring","address2","concat","weiToGWei","wei","div","gWeiToWei","gwei","mul","weiToEth","computeMonthlyTax","v","ethers","BigNumber","from","f","taxYearly","round","clickPos","event","ctx","canvasSize","pixelSize","canvasOffset","offscreenCanvas","offscreenCtx","imageData","mouseDownPos","cursorPos","props","created","addEventListener","onResize","mounted","$refs","canvas","getContext","resizeCanvas","document","createElement","height","imageSmoothingEnabled","createImageData","draw","$apolloClient","query","$contract","destroyed","removeEventListener","methods","canvasToPixelCoords","pixelToCanvasCoords","innerWidth","innerHeight","redrawRequested","requestAnimationFrame","setPixelsFromGraph","setPixel","pixelsUint8Array","putImageData","redIndex","zoom","factor","minPixelSize","maxPixelSize","button","newPixel","oldPixel","$emit","mouseUpPos","pixelCoords","deltaY","component","staticClass","staticStyle","_e","account","$event","onError","onAccountChanged","balance","taxBase","aboutModalActive","_v","_s","_l","error","removeError","message","class","waitingForAccount","connect","ethereum","onAccountsChanged","$provider","listAccounts","then","accounts","folded","shortAddress","balanceStr","taxPerMonthStr","msg","directives","rawName","expression","domProps","target","composing","amountInput","amountInvalid","waitingForTx","deposit","computed","amount","lte","mod","withdraw","components","DepositField","WithdrawField","ChevronUpIcon","ChevronDownIcon","pixelID","ownerStr","formatDAI","price","userIsOwner","buyModalActive","active","close","_m","swatches","model","callback","$$v","colorSwatch","newPriceInput","newPriceInvalid","addedTax","totalTax","newPrice","gt","eq","depositInput","depositInvalid","inputsInvalid","totalDepositCoversCost","totalDepositSufficient","balanceAfterPayment","noTaxesPaid","taxMonths","sub","recommendedMonths","buy","toString","lt","color","balanceAfterDeposit","add","taxPerMonth","gte","watch","handler","immediate","BuyModal","owner","exists","pixels","onChange","pixel","hexToIntStr","priceStr","$set","priceInput","priceInvalid","changePrice","colorHex","colorChanged","changeColor","VSwatches","currentColor","ChangePriceField","ChangeColorField","newAddress","oldAddress","queryPixels","idBig","selectedTab","ConnectPanel","AccountPanel","PixelPanel","OwnedPixelPanel","AboutModal","errors","numErrors","e","newErrors","Canvas","Panels","network","chainId","provider","providers","Web3Provider","contract","Contract","GraffitETHMetadata","abi","Vue","$graffitiContract","apolloClient","ApolloClient","uri","cache","InMemoryCache","config","productionTip","render","h","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6HCvJTW,EAAOD,QAAU,IAA0B,gC,8/8GCAvC,EAAS,WAAa,IAAI+B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,aAAeN,EAAIO,cAAcC,GAAG,CAAC,cAAgBR,EAAIS,gBAAgB,mBAAqBT,EAAIU,wBAAwBN,EAAG,SAAS,CAACE,MAAM,CAAC,cAAgBN,EAAIW,cAAc,YAAcX,EAAIY,YAAY,aAAeZ,EAAIO,iBAAiB,IACjYM,EAAkB,GCDlB,EAAS,WAAa,IAAIb,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACU,IAAI,SAASN,GAAG,CAAC,UAAYR,EAAIe,YAAY,UAAYf,EAAIgB,YAAY,QAAUhB,EAAIiB,UAAU,MAAQjB,EAAIkB,YACtN,EAAkB,G,2FCDhBC,EAAW,CAAC,IAAK,KACjBC,EAAU,ICEVC,EAAmB,CACvB,CAAC,UAAW,CAAC,IAAK,IAAK,IAAK,MAC5B,CAAC,UAAW,CAAC,IAAK,IAAK,IAAK,MAC5B,CAAC,UAAW,CAAC,IAAK,IAAK,IAAK,MAC5B,CAAC,UAAW,CAAC,GAAI,GAAI,GAAI,MACzB,CAAC,UAAW,CAAC,IAAK,IAAK,IAAK,MAC5B,CAAC,UAAW,CAAC,IAAK,EAAG,EAAG,MACxB,CAAC,UAAW,CAAC,IAAK,IAAK,EAAG,MAC1B,CAAC,UAAW,CAAC,IAAK,IAAK,GAAI,MAC3B,CAAC,UAAW,CAAC,IAAK,IAAK,EAAG,MAC1B,CAAC,UAAW,CAAC,IAAK,IAAK,GAAI,MAC3B,CAAC,UAAW,CAAC,EAAG,IAAK,EAAG,MACxB,CAAC,UAAW,CAAC,EAAG,IAAK,IAAK,MAC1B,CAAC,UAAW,CAAC,EAAG,IAAK,IAAK,MAC1B,CAAC,UAAW,CAAC,EAAG,EAAG,IAAK,MACxB,CAAC,UAAW,CAAC,IAAK,IAAK,IAAK,MAC5B,CAAC,UAAW,CAAC,IAAK,EAAG,IAAK,OAExBC,EAAY,GACZC,EAAa,GACbC,EAAkB,G,iBACOH,EAAiBI,W,IAA9C,2BAAyD,iCAA/ChF,EAA+C,8BAA3CiF,EAA2C,KAAtCC,EAAsC,KACvDL,EAAUrE,KAAKyE,GACfH,EAAWtE,KAAK0E,GAChBH,EAAgBE,GAAOjF,G,gCAGzB,SAASmF,EAAgBC,EAAQC,GAC/B,OAAOD,EAAO,GAAKA,EAAO,GAAKC,EAGjC,SAASC,EAAgBC,EAAIF,GAC3B,IAAMG,EAAID,EAAKF,EACTI,EAAIC,KAAKC,MAAMJ,EAAKF,GACpBD,EAAS,CAACI,EAAGC,GAEnB,OADAG,QAAQC,OAAOV,EAAgBC,EAAQC,IAAUE,GAC1CH,EAGT,SAASU,EAAeC,GACpB,IAAMC,EAAWD,EAAQE,UAAU,EAAG,GAChCC,EAAWH,EAAQE,UAAU,IACnC,OAAOD,EAASG,OAAO,IAAKD,GAGhC,SAASE,EAAUC,GACjB,OAAOA,EAAIC,IAAI,KAGjB,SAASC,EAAUC,GACjB,OAAOA,EAAKC,IAAI,KAGlB,SAASC,EAASL,GAChB,OAAOA,EAAIC,IAAI,uBAGjB,SAASK,EAAkBpE,GACzB,IAAMqE,EAAIC,OAAOC,UAAUC,KAAKxE,GAC1ByE,EAAI,IACJC,EAAYL,EAAEH,IAAIf,KAAKwB,MAAMvC,EAAUqC,IAAIV,IAAIU,GACrD,OAAOC,EAAUX,IAAI,IC/CvB,gGAQA,IACA,KAEA,SAASa,EAASC,GAChB,IAAF,mCACA,mBACA,kBACE,MAAO,CAAC5B,EAAGC,GAGb,I,EAAA,GACE3D,KAAM,SAENpC,KAHF,WAII,MAAO,CACL2H,IAAK,KACLC,WAAY,CAAC,EAAG,GAChBC,UAAW,GACXC,aAAc,CAAC,EAAG,GAClBtD,cAAe,KAEfuD,gBAAiB,KACjBC,aAAc,KACdC,UAAW,KAEXC,aAAc,KACdC,UAAW,CAAC,EAAG,KAInBC,MAAO,CAAC,gBAERC,QAtBF,WAuBI3E,OAAO4E,iBAAiB,SAAUxE,KAAKyE,WAEzCC,QAzBF,WAyBA,WACI1E,KAAK6D,IAAM7D,KAAK2E,MAAMC,OAAOC,WAAW,MACxC7E,KAAK8E,eACL9E,KAAKgE,aAAe,EACxB,4CACA,4CAGIhE,KAAKiE,gBAAkBc,SAASC,cAAc,UAC9ChF,KAAKiE,gBAAgBpC,MAAQX,EAAS,GACtClB,KAAKiE,gBAAgBgB,OAAS/D,EAAS,GACvClB,KAAKkE,aAAelE,KAAKiE,gBAAgBY,WAAW,MACpD7E,KAAKkE,aAAagB,uBAAwB,EAC1ClF,KAAKmE,UAAYnE,KAAKkE,aAAaiB,gBAAgBjE,EAAS,GAAIA,EAAS,IAEzElB,KAAKoF,OAELpF,KAAKqF,cAAcC,MAAM,CAA7B,4BACM,EAAN,2BACM,EAAN,UAGItF,KAAKuF,UAAUhF,GAAG,eAAe,SAArC,KACU,EAAV,YACQ,EAAR,yBACQ,EAAR,2CACQ,EAAR,YAIEiF,UAvDF,WAwDI5F,OAAO6F,oBAAoB,SAAUzF,KAAKyE,WAG5CiB,QAAS,CACPjB,SADJ,WAEMzE,KAAK8E,eACL9E,KAAKoF,QAGPO,oBANJ,SAMA,GACM,MAAO,CACb,uDACA,yDAGIC,oBAZJ,SAYA,GACM,MAAO,CACb,yCACA,2CAIId,aAnBJ,WAoBM9E,KAAK8D,WAAa,CAAClE,OAAOiG,WAAYjG,OAAOkG,aAC7C9F,KAAK2E,MAAMC,OAAO/C,MAAQ7B,KAAK8D,WAAW,GAC1C9D,KAAK2E,MAAMC,OAAOK,OAASjF,KAAK8D,WAAW,IAG7CsB,KAzBJ,WAyBA,WACUpF,KAAK+F,kBAGT/F,KAAK+F,iBAAkB,EACvBnG,OAAOoG,uBAAsB,WAa3B,GAZA,EAAR,mBAEQ,EAAR,wBACQ,EAAR,kDAEQ,EAAR,WACQ,EAAR,6BACQ,EAAR,mDACQ,EAAR,mCACQ,EAAR,qCACQ,EAAR,cAEY,EAAZ,eACU,IAAV,yCACA,iBAEU,EAAV,WACU,EAAV,gBACU,EAAV,gBACU,EAAV,SACA,OACA,OACA,gBACA,iBAEU,EAAV,aACU,EAAV,oBAKIC,mBA9DJ,SA8DA,GAGM,IAFA,IAAN,oBACA,2BACA,mBACQjG,KAAKkG,SAAS1J,EAAG2J,EAAiB3J,IAEpCwD,KAAKkE,aAAakC,aAAapG,KAAKmE,UAAW,EAAG,IAGpD+B,SAvEJ,SAuEA,KAIM,IAHA,IAAN,OACA,YACA,qBACA,YACQlG,KAAKmE,UAAUjI,KAAKmK,EAAW7J,GAAKkF,EAAKlF,IAI7C8J,KAhFJ,SAgFA,GACM,IAAN,GACA,uCACA,wCAEA,iBACMtG,KAAK+D,UAAY/D,KAAK+D,UAAYwC,EAE9BvG,KAAK+D,UAAYyC,EACnBxG,KAAK+D,UAAYyC,EACzB,mBACQxG,KAAK+D,UAAY0C,GAGnB,IAAN,mBACA,GACA,OACA,QAEMzG,KAAKgE,aAAe,CAC1B,uBACA,wBAGMhE,KAAKoF,QAGPtE,YA3GJ,SA2GA,GAC0B,GAAhB8C,EAAM8C,SACR1G,KAAKoE,aAAeT,EAASC,KAGjC7C,YAhHJ,SAgHA,GACM,IAAN,2CACMf,KAAKqE,UAAYV,EAASC,GAC1B,IAAN,2CACU+C,EAAS,IAAMC,EAAS,IAAMD,EAAS,IAAMC,EAAS,KACpDD,EAAS,IAAM,GAAKA,EAAS,GAAKzF,EAAS,IAAMyF,EAAS,IAAM,GAAKA,EAAS,GAAKzF,EAAS,GAC9FlB,KAAK6G,MAAM,qBAAsBF,GAEjC3G,KAAK6G,MAAM,qBAAsB,OAIjC7G,KAAKoE,eACPpE,KAAKgE,aAAe,CAC5B,iCACA,kCAEQhE,KAAKoF,SAGTpE,UApIJ,SAoIA,GACM,GAAoB,GAAhB4C,EAAM8C,OAAV,CAIA,IAAN,OACM,GAAI1G,KAAKoE,cAAgB0C,EAAW,IAAM9G,KAAKoE,aAAa,IAAM0C,EAAW,IAAM9G,KAAKoE,aAAa,GAAI,CACvG,IAAR,8BACY2C,EAAY,GAAK,GAAKA,EAAY,GAAK,GAAKA,EAAY,IAAM7F,EAAS,IAAM6F,EAAY,IAAM7F,EAAS,GAC1GlB,KAAKU,cAAgB,KAC/B,oFACUV,KAAKU,cAAgBqG,EAErB/G,KAAKU,cAAgB,KAEvBV,KAAK6G,MAAM,gBAAiB7G,KAAKU,eACjCV,KAAKoF,OAGPpF,KAAKoE,aAAe,OAEtBnD,QAzJJ,SAyJA,GACMjB,KAAKsG,KAAK,EAAI1C,EAAMoD,OAAS,OCxP6S,I,YCO5UC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QClBX,EAAS,WAAa,IAAIlH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC+G,YAAY,aAAaC,YAAY,CAAC,iBAAiB,SAAS,CAAChH,EAAG,UAAU,CAAC+G,YAAY,WAAW,CAAC/G,EAAG,MAAM,CAAC+G,YAAY,WAAW,CAAGnH,EAAIO,aAAslBP,EAAIqH,KAA5kBjH,EAAG,MAAM,CAAC+G,YAAY,oBAAoB,CAAGnH,EAAIO,aAAiKP,EAAIqH,KAAvJjH,EAAG,eAAe,CAACE,MAAM,CAAC,QAAUN,EAAIsH,SAAS9G,GAAG,CAAC,MAAQ,SAAS+G,GAAQ,OAAOvH,EAAIwH,QAAQD,IAAS,eAAiBvH,EAAIyH,oBAA8BzH,EAAW,QAAEI,EAAG,eAAe,CAACE,MAAM,CAAC,QAAUN,EAAIsH,QAAQ,QAAUtH,EAAI0H,QAAQ,QAAU1H,EAAI2H,SAASnH,GAAG,CAAC,MAAQ,SAAS+G,GAAQ,OAAOvH,EAAIwH,QAAQD,OAAYvH,EAAIqH,KAAKjH,EAAG,aAAa,CAACE,MAAM,CAAC,cAAgBN,EAAIW,cAAc,QAAUX,EAAIsH,QAAQ,QAAUtH,EAAI0H,QAAQ,QAAU1H,EAAI2H,SAASnH,GAAG,CAAC,MAAQ,SAAS+G,GAAQ,OAAOvH,EAAIwH,QAAQD,QAAa,GAAYnH,EAAG,MAAM,CAAC+G,YAAY,oBAAoB,CAAEnH,EAAW,QAAEI,EAAG,kBAAkB,CAACE,MAAM,CAAC,QAAUN,EAAIsH,SAAS9G,GAAG,CAAC,MAAQ,SAAS+G,GAAQ,OAAOvH,EAAIwH,QAAQD,OAAYvH,EAAIqH,KAAKjH,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,KAAKE,GAAG,CAAC,MAAQ,SAAS+G,GAAQvH,EAAI4H,kBAAmB,KAAQ,CAAC5H,EAAI6H,GAAG,OAAQ7H,EAAoB,iBAAEI,EAAG,aAAa,CAACE,MAAM,CAAC,OAASN,EAAI4H,kBAAkBpH,GAAG,CAAC,MAAQ,SAAS+G,GAAQvH,EAAI4H,kBAAmB,MAAU5H,EAAIqH,MAAM,GAAGjH,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,KAAKE,GAAG,CAAC,MAAQ,SAAS+G,GAAQvH,EAAI4H,kBAAmB,KAAQ,CAAC5H,EAAI6H,GAAG,OAAQ7H,EAAe,YAAEI,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,WAAW,CAACN,EAAI6H,GAAG7H,EAAI8H,GAAG9H,EAAIY,YAAY,IAAI,KAAKZ,EAAI8H,GAAG9H,EAAIY,YAAY,OAAOZ,EAAIqH,KAA2B,OAArBrH,EAAIO,cAAyBP,EAAIO,aAAcH,EAAG,MAAM,CAACA,EAAG,MAAM,CAAC+G,YAAY,uBAAuBC,YAAY,CAAC,iBAAiB,SAAS,CAACpH,EAAI6H,GAAG,sEAAsE7H,EAAIqH,KAAKjH,EAAG,MAAM,CAAC+G,YAAY,UAAUnH,EAAI+H,GAAI/H,EAAU,QAAE,SAASgI,GAAO,OAAO5H,EAAG,MAAM,CAACd,IAAI0I,EAAM1I,IAAI6H,YAAY,yBAAyBC,YAAY,CAAC,iBAAiB,SAAS,CAAChH,EAAG,SAAS,CAAC+G,YAAY,SAAS3G,GAAG,CAAC,MAAQ,SAAS+G,GAAQ,OAAOvH,EAAIiI,YAAYD,EAAM1I,SAASU,EAAI6H,GAAG,IAAI7H,EAAI8H,GAAGE,EAAME,SAAS,UAAS,UACjhE,EAAkB,G,kCCDlB,EAAS,WAAa,IAAIlI,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAASF,EAAIsH,QAAmWtH,EAAIqH,KAA9VjH,EAAG,UAAU,CAAC+G,YAAY,oBAAoBC,YAAY,CAAC,iBAAiB,SAAS,CAAChH,EAAG,IAAI,CAAC+G,YAAY,iBAAiB,CAACnH,EAAI6H,GAAG,yBAAyBzH,EAAG,MAAM,CAAC+G,YAAY,eAAe,CAAC/G,EAAG,SAAS,CAAC+G,YAAY,8BAA8BgB,MAAM,CAAC,aAAcnI,EAAIoI,mBAAmB5H,GAAG,CAAC,MAAQR,EAAIqI,UAAU,CAACrI,EAAI6H,GAAG,oBAClb,EAAkB,GCgBtB,GACEtJ,KAAM,eACNpC,KAFF,WAGI,MAAO,CACLiM,mBAAmB,IAGvB7D,MAAO,CACT,WAGEC,QAXF,WAWA,WACI3E,OAAOyI,SAAS9H,GAAG,kBAAmBP,KAAKsI,mBAC3CtI,KAAKuI,UAAUC,eAAeC,MAAK,SAAvC,GACUC,EAAShM,OAAS,GACpB,EAAR,iCAKEgJ,QAAS,CACP,QADJ,WACA,qKACA,uBADA,kBAIA,wDAJA,OAIA,EAJA,0DAMA,8DANA,QAQA,wDACA,uBATA,4DAYI4C,kBAbJ,SAaA,GACUI,EAAShM,QAAU,EACrBsD,KAAK6G,MAAM,iBAAkB,EAArC,6BAEQ7G,KAAK6G,MAAM,QAAS,4BCtD0T,ICOlV,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QClBX,GAAS,WAAa,IAAI9G,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAAC+G,YAAY,oBAAoBC,YAAY,CAAC,iBAAiB,SAAS,CAAChH,EAAG,MAAM,CAAC+G,YAAY,iBAAiB,CAACnH,EAAI6H,GAAG,aAAe7H,EAAI4I,OAA4I5I,EAAIqH,KAAxIjH,EAAG,kBAAkB,CAAC+G,YAAY,kBAAkB7G,MAAM,CAAC,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAAS+G,GAAQvH,EAAI4I,QAAU5I,EAAI4I,WAAqB5I,EAAU,OAAEI,EAAG,oBAAoB,CAAC+G,YAAY,kBAAkB7G,MAAM,CAAC,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAAS+G,GAAQvH,EAAI4I,QAAU5I,EAAI4I,WAAW5I,EAAIqH,MAAM,GAAIrH,EAAIsH,UAAYtH,EAAI4I,OAAQxI,EAAG,MAAM,CAACA,EAAG,MAAM,CAAC+G,YAAY,eAAe,CAAC/G,EAAG,QAAQ,CAAC+G,YAAY,sBAAsB,CAAC/G,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAI6H,GAAG,aAAazH,EAAG,KAAK,CAACJ,EAAI6H,GAAG7H,EAAI8H,GAAG9H,EAAI6I,mBAAmBzI,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAI6H,GAAG,aAAazH,EAAG,KAAK,CAACJ,EAAI6H,GAAG7H,EAAI8H,GAAG9H,EAAI8I,iBAAiB1I,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAI6H,GAAG,iBAAiBzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG7H,EAAI8H,GAAG9H,EAAI+I,2BAA2B3I,EAAG,MAAM,CAAC+G,YAAY,eAAe,CAAC/G,EAAG,OAAO,CAACA,EAAG,MAAM,CAAC+G,YAAY,SAAS,CAAC/G,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,8BAA8BzH,EAAG,eAAe,CAACE,MAAM,CAAC,QAAUN,EAAIsH,SAAS9G,GAAG,CAAC,MAAQ,SAAUwI,GAAO,OAAOhJ,EAAI8G,MAAM,QAASkC,OAAW5I,EAAG,gBAAgB,CAACE,MAAM,CAAC,QAAUN,EAAIsH,QAAQ,QAAUtH,EAAI0H,SAASlH,GAAG,CAAC,MAAQ,SAAUwI,GAAO,OAAOhJ,EAAI8G,MAAM,QAASkC,OAAW5I,EAAG,IAAI,CAACJ,EAAI6H,GAAG,8DAA8D,SAAS7H,EAAIqH,QACt6C,GAAkB,GCDlB,GAAS,WAAa,IAAIrH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC+G,YAAY,oBAAoB,CAAC/G,EAAG,MAAM,CAAC+G,YAAY,WAAW,CAAC/G,EAAG,QAAQ,CAAC6I,WAAW,CAAC,CAAC1K,KAAK,QAAQ2K,QAAQ,UAAUlK,MAAOgB,EAAe,YAAEmJ,WAAW,gBAAgBhC,YAAY,QAAQ7G,MAAM,CAAC,KAAO,OAAO,YAAc,QAAQ8I,SAAS,CAAC,MAASpJ,EAAe,aAAGQ,GAAG,CAAC,MAAQ,SAAS+G,GAAWA,EAAO8B,OAAOC,YAAqBtJ,EAAIuJ,YAAYhC,EAAO8B,OAAOrK,WAAWgB,EAAIuJ,aAAevJ,EAAIwJ,cAAepJ,EAAG,IAAI,CAAC+G,YAAY,kBAAkB,CAACnH,EAAI6H,GAAG,4BAA4B7H,EAAIqH,OAAOjH,EAAG,MAAM,CAAC+G,YAAY,WAAW,CAAC/G,EAAG,IAAI,CAAC+G,YAAY,iBAAiBgB,MAAM,CAAC,aAAcnI,EAAIyJ,cAAcnJ,MAAM,CAAC,SAAWN,EAAIwJ,eAAehJ,GAAG,CAAC,MAAQR,EAAI0J,UAAU,CAAC1J,EAAI6H,GAAG,oBACpxB,GAAkB,GCqBtB,IACEtJ,KAAM,eACNgG,MAAO,CACT,WAGEpI,KANF,WAOI,MAAO,CACLoN,YAAa,KACbE,cAAc,IAIlBE,SAAU,CACRC,OADJ,WAEM,IACE,OAAO,EAAf,wCACA,UACQ,OAAO,OAGXJ,cARJ,WASM,OAAuB,OAAhBvJ,KAAK2J,QAAmB3J,KAAK2J,OAAOC,IAAI,IAA8B,GAAxB5J,KAAK2J,OAAOE,IAAI,OAIzEnE,QAAS,CACP,QADJ,WACA,uKACA,kBADA,SAGA,mCACA,yBAJA,SAKA,4BALA,OAMA,iBANA,mDAQA,qEARA,QAUA,kBAVA,8DCjDgW,MCO5V,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI3F,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC+G,YAAY,oBAAoB,CAAC/G,EAAG,MAAM,CAAC+G,YAAY,WAAW,CAAC/G,EAAG,QAAQ,CAAC6I,WAAW,CAAC,CAAC1K,KAAK,QAAQ2K,QAAQ,UAAUlK,MAAOgB,EAAe,YAAEmJ,WAAW,gBAAgBhC,YAAY,QAAQ7G,MAAM,CAAC,KAAO,OAAO,YAAc,QAAQ8I,SAAS,CAAC,MAASpJ,EAAe,aAAGQ,GAAG,CAAC,MAAQ,SAAS+G,GAAWA,EAAO8B,OAAOC,YAAqBtJ,EAAIuJ,YAAYhC,EAAO8B,OAAOrK,WAAWgB,EAAIuJ,aAAevJ,EAAIwJ,cAAepJ,EAAG,IAAI,CAAC+G,YAAY,kBAAkB,CAACnH,EAAI6H,GAAG,6BAA6B7H,EAAIqH,OAAOjH,EAAG,MAAM,CAAC+G,YAAY,WAAW,CAAC/G,EAAG,IAAI,CAAC+G,YAAY,iBAAiBgB,MAAM,CAAC,aAAcnI,EAAIyJ,cAAcnJ,MAAM,CAAC,SAAWN,EAAIwJ,eAAehJ,GAAG,CAAC,MAAQR,EAAI+J,WAAW,CAAC/J,EAAI6H,GAAG,qBACtxB,GAAkB,GCsBtB,IACEtJ,KAAM,gBACNgG,MAAO,CACT,UACA,WAGEpI,KAPF,WAQI,MAAO,CACLoN,YAAa,KACbE,cAAc,IAIlBE,SAAU,CACRC,OADJ,WAEM,IACE,OAAO,EAAf,wCACA,UACQ,OAAO,OAGXJ,cARJ,WASM,OAAuB,OAAhBvJ,KAAK2J,QAAmB3J,KAAK2J,OAAOC,IAAI,IAArD,OAA2D,KAA3D,wCAIElE,QAAS,CACP,SADJ,WACA,uKACA,kBADA,SAGA,mCACA,yBAJA,SAKA,wBALA,OAMA,iBANA,mDAQA,sEARA,QAUA,kBAVA,8DCnDiW,MCO7V,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,qBC4Cf,IACEpH,KAAM,eACNyL,WAAY,CACVC,aAAJ,GACIC,cAAJ,GACIC,cAAJ,QACIC,gBAAJ,SAEEjO,KARF,WASI,MAAO,CACLiM,mBAAmB,EACnB7F,eAAgB,KAChBqG,QAAQ,IAGZrE,MAAO,CACT,UACA,UACA,WAGEoF,SAAU,CACRb,WADJ,WAEM,OAAI7I,KAAKyH,QACA,EAAf,6CAEe,WAGXqB,eARJ,WASM,GAAI9I,KAAK0H,QAAS,CAChB,IAAR,+CACA,YACQ,OAAO,EAAf,kCAEQ,MAAO,WAGXkB,aAjBJ,WAkBM,OAAOtG,EAAetC,KAAKqH,YCrGoU,MCOjW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAItH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAAC+G,YAAY,oBAAoBC,YAAY,CAAC,iBAAiB,SAAS,CAAChH,EAAG,MAAM,CAAC+G,YAAY,iBAAiB,CAACnH,EAAI6H,GAAG,qBAAuB7H,EAAI4I,OAA4I5I,EAAIqH,KAAxIjH,EAAG,kBAAkB,CAAC+G,YAAY,kBAAkB7G,MAAM,CAAC,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAAS+G,GAAQvH,EAAI4I,QAAU5I,EAAI4I,WAAqB5I,EAAU,OAAEI,EAAG,oBAAoB,CAAC+G,YAAY,kBAAkB7G,MAAM,CAAC,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAAS+G,GAAQvH,EAAI4I,QAAU5I,EAAI4I,WAAW5I,EAAIqH,MAAM,GAAKrH,EAAI4I,OAAm0B5I,EAAIqH,KAA/zBjH,EAAG,MAAM,CAAGJ,EAAIW,cAA8FP,EAAG,MAAM,CAACA,EAAG,MAAM,CAAC+G,YAAY,eAAe,CAAC/G,EAAG,QAAQ,CAAC+G,YAAY,sBAAsB,CAAC/G,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAI6H,GAAG,iBAAiBzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG7H,EAAI8H,GAAG9H,EAAIW,cAAc,IAAI,KAAKX,EAAI8H,GAAG9H,EAAIW,cAAc,SAASP,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAI6H,GAAG,cAAczH,EAAG,KAAK,CAACJ,EAAI6H,GAAG7H,EAAI8H,GAAG9H,EAAIqK,cAAcjK,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAI6H,GAAG,gBAAgBzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG7H,EAAI8H,GAAG9H,EAAIsK,eAAelK,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAI6H,GAAG,WAAWzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG7H,EAAI8H,GAAG9H,EAAIuK,UAAUvK,EAAIwK,mBAAmBpK,EAAG,MAAM,CAAC+G,YAAY,eAAe,CAAC/G,EAAG,SAAS,CAAC+G,YAAY,8BAA8B7G,MAAM,CAAC,UAAYN,EAAIsH,SAAWtH,EAAIyK,aAAajK,GAAG,CAAC,MAAQ,SAAS+G,GAAQvH,EAAI0K,gBAAiB,KAAQ,CAAC1K,EAAI6H,GAAG,aAA7wBzH,EAAG,IAAI,CAAC+G,YAAY,eAAe,CAACnH,EAAI6H,GAAG,sCAA2vB7H,EAAkB,eAAEI,EAAG,WAAW,CAACE,MAAM,CAAC,cAAgBN,EAAIW,cAAc,OAASX,EAAI0K,eAAe,QAAU1K,EAAIqK,QAAQ,MAAQrK,EAAIwK,MAAM,QAAUxK,EAAIsH,QAAQ,QAAUtH,EAAI0H,QAAQ,QAAU1H,EAAI2H,SAASnH,GAAG,CAAC,MAAQ,SAAS+G,GAAQvH,EAAI0K,gBAAiB,GAAO,MAAQ,SAAU1B,GAAO,OAAOhJ,EAAI8G,MAAM,QAASkC,OAAWhJ,EAAIqH,MAAM,IACxtD,GAAkB,GCDlB,GAAS,WAAa,IAAIrH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC+G,YAAY,qBAAqBgB,MAAM,CAAC,YAAanI,EAAI2K,SAAS,CAACvK,EAAG,MAAM,CAAC+G,YAAY,qBAAqB/G,EAAG,MAAM,CAAC+G,YAAY,cAAc,CAAC/G,EAAG,SAAS,CAAC+G,YAAY,mBAAmB,CAAC/G,EAAG,IAAI,CAAC+G,YAAY,oBAAoB,CAACnH,EAAI6H,GAAG,eAAezH,EAAG,SAAS,CAAC+G,YAAY,SAAS7G,MAAM,CAAC,aAAa,SAASE,GAAG,CAAC,MAAQ,SAAS+G,GAAQ,OAAOvH,EAAI4K,cAAcxK,EAAG,UAAU,CAAC+G,YAAY,mBAAmB,CAAC/G,EAAG,QAAQ,CAAC+G,YAAY,wCAAwC,CAACnH,EAAI6K,GAAG,GAAGzK,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAI6H,GAAG7H,EAAI8H,GAAG9H,EAAIqK,YAAYjK,EAAG,KAAK,CAACJ,EAAI6H,GAAG7H,EAAI8H,GAAG9H,EAAIW,cAAc,IAAI,KAAKX,EAAI8H,GAAG9H,EAAIW,cAAc,OAAOP,EAAG,KAAK,CAACJ,EAAI6H,GAAG7H,EAAI8H,GAAG9H,EAAIuK,UAAUvK,EAAIwK,iBAAiBpK,EAAG,OAAO,CAACA,EAAG,MAAM,CAAC+G,YAAY,SAAS,CAAC/G,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,iBAAiBzH,EAAG,MAAM,CAAC+G,YAAY,WAAW,CAAC/G,EAAG,aAAa,CAACE,MAAM,CAAC,SAAWN,EAAI8K,SAAS,cAAc,IAAIC,MAAM,CAAC/L,MAAOgB,EAAe,YAAEgL,SAAS,SAAUC,GAAMjL,EAAIkL,YAAYD,GAAK9B,WAAW,kBAAkB,KAAK/I,EAAG,MAAM,CAAC+G,YAAY,iBAAiB,CAAC/G,EAAG,MAAM,CAAC+G,YAAY,UAAU,CAAC/G,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,wBAAwBzH,EAAG,QAAQ,CAAC6I,WAAW,CAAC,CAAC1K,KAAK,QAAQ2K,QAAQ,UAAUlK,MAAOgB,EAAiB,cAAEmJ,WAAW,kBAAkBhC,YAAY,oBAAoBgB,MAAM,CACp2C,YAAanI,EAAImL,eAAiBnL,EAAIoL,iBACtC9K,MAAM,CAAC,KAAO,OAAO,YAAc,QAAQ8I,SAAS,CAAC,MAASpJ,EAAiB,eAAGQ,GAAG,CAAC,MAAQ,SAAS+G,GAAWA,EAAO8B,OAAOC,YAAqBtJ,EAAImL,cAAc5D,EAAO8B,OAAOrK,aAAYoB,EAAG,MAAM,CAAC+G,YAAY,UAAU,CAAC/G,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,yBAAyBzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG7H,EAAI8H,GAAG9H,EAAIuK,UAAUvK,EAAIqL,kBAAoC,OAAjBrL,EAAIsL,WAAsBtL,EAAIoL,iBAAmBpL,EAAIuL,SAASC,GAAG,GAAIpL,EAAG,MAAM,CAAC+G,YAAY,0BAA0B,CAACnH,EAAI6H,GAAG,sCAAsC7H,EAAI8H,GAAG9H,EAAIuK,UAAUvK,EAAIsL,WAAW,QAAQtL,EAAIqH,KAAuB,OAAjBrH,EAAIsL,WAAsBtL,EAAIoL,iBAAmBpL,EAAIuL,SAASE,GAAG,GAAIrL,EAAG,MAAM,CAAC+G,YAAY,0BAA0B,CAACnH,EAAI6H,GAAG,8CAA8C7H,EAAI8H,GAAG9H,EAAIuK,UAAUvK,EAAIsL,WAAW,QAAQtL,EAAIqH,KAAKjH,EAAG,MAAM,CAAC+G,YAAY,iBAAiB,CAAC/G,EAAG,MAAM,CAAC+G,YAAY,UAAU,CAAC/G,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,gCAAgCzH,EAAG,QAAQ,CAAC6I,WAAW,CAAC,CAAC1K,KAAK,QAAQ2K,QAAQ,UAAUlK,MAAOgB,EAAgB,aAAEmJ,WAAW,iBAAiBhC,YAAY,oBAAoBgB,MAAM,CAC7jC,YAAanI,EAAI0L,cAAgB1L,EAAI2L,gBACrCrL,MAAM,CAAC,KAAO,OAAO,YAAc,QAAQ8I,SAAS,CAAC,MAASpJ,EAAgB,cAAGQ,GAAG,CAAC,MAAQ,SAAS+G,GAAWA,EAAO8B,OAAOC,YAAqBtJ,EAAI0L,aAAanE,EAAO8B,OAAOrK,aAAYoB,EAAG,MAAM,CAAC+G,YAAY,UAAU,CAAC/G,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,uBAAuBzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG7H,EAAI8H,GAAG9H,EAAIuK,UAAUvK,EAAI0H,iBAAiBtH,EAAG,MAAM,CAAC+G,YAAY,SAAS,CAAwB,IAArBnH,EAAImL,eAAuBnL,EAAIoL,iBAAyC,IAApBpL,EAAI0L,cAAsB1L,EAAI2L,eAAiBvL,EAAG,IAAI,CAAC+G,YAAY,mBAAmB,CAACnH,EAAI6H,GAAG,oKAAoK7H,EAAIqH,MAAOrH,EAAI4L,eAAiB5L,EAAI6L,wBAA0B7L,EAAI8L,uBAAwB1L,EAAG,IAAI,CAAC+G,YAAY,oBAAoB,CAACnH,EAAI6H,GAAG,uIAAuI7H,EAAI8H,GAAG9H,EAAIuK,UAAUvK,EAAI+L,sBAAsB,gBAAgB/L,EAAI8H,GAAI9H,EAAIgM,YAAuF,wDAAzE,0CAA4ChM,EAAIiM,UAAY,YAAsE,OAAOjM,EAAIqH,KAAOrH,EAAI4L,eAAkB5L,EAAI6L,uBAAoP7L,EAAIqH,KAAhOjH,EAAG,IAAI,CAAC+G,YAAY,mBAAmB,CAACnH,EAAI6H,GAAG,8GAA8G7H,EAAI8H,GAAG9H,EAAIuK,UAAUvK,EAAI+L,oBAAoB7I,KAAK,KAAK,QAAmBlD,EAAI4L,gBAAiB5L,EAAI6L,wBAA2B7L,EAAI8L,wBAA2B9L,EAAIgM,YAAuchM,EAAIqH,KAA9bjH,EAAG,IAAI,CAAC+G,YAAY,oBAAoB,CAACnH,EAAI6H,GAAG,+PAA+P7H,EAAI8H,GAAG9H,EAAIuK,UAAUvK,EAAI+L,oBAAoBG,IAAIlM,EAAIsL,SAASpI,IAAIlD,EAAImM,oBAAoBjJ,KAAK,KAAK,6CAAsD9C,EAAG,SAAS,CAAC+G,YAAY,mBAAmB,CAAC/G,EAAG,SAAS,CAAC+G,YAAY,iBAAiBgB,MAAM,CAAC,aAAcnI,EAAIyJ,cAAcnJ,MAAM,CAAC,SAAWN,EAAIoL,iBAAmBpL,EAAI2L,iBAAmB3L,EAAI6L,wBAAwBrL,GAAG,CAAC,MAAQ,SAAS+G,GAAQ,OAAOvH,EAAIoM,SAAS,CAACpM,EAAI6H,GAAG,SAASzH,EAAG,SAAS,CAAC+G,YAAY,SAAS3G,GAAG,CAAC,MAAQ,SAAS+G,GAAQ,OAAOvH,EAAI4K,WAAW,CAAC5K,EAAI6H,GAAG,mBAC53E,GAAkB,CAAC,WAAa,IAAI7H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAI6H,GAAG,cAAczH,EAAG,KAAK,CAACJ,EAAI6H,GAAG,iBAAiBzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG,e,oCCkJrM,IACEtJ,KAAM,WACNyL,WAAY,CAAd,gBACEzF,MAAO,CACT,SACA,QACA,UACA,UACA,UACA,UACA,iBAEEpI,KAZF,WAaI,IAAJ,KAII,OAHI8D,KAAKuK,OACPrH,EAASlD,KAAKuK,OAAO6B,WAEhB,CACLlB,cAAeA,EACfO,aAAc,IACdjC,cAAc,EACdyB,YAAa,UACbJ,SAAUxJ,EACV6K,kBAAmB,EACnB5B,UAPN,SAOA,GACQ,OAAKvL,EAGE,EAAf,kCAFiB,aAMf2K,SAAU,CACR4B,SADJ,WAEM,IACE,OAAO,EAAf,0CACA,UACQ,OAAO,OAGXH,gBARJ,WASM,OAAyB,OAAlBnL,KAAKsL,UAAqBtL,KAAKsL,SAASe,GAAG,IAAgC,GAA1BrM,KAAKsL,SAASzB,IAAI,MAE5EJ,QAXJ,WAYM,IACE,OAAO,EAAf,yCACA,UACQ,OAAO,OAGXiC,eAlBJ,WAmBM,OAAwB,OAAjB1L,KAAKyJ,SAAoBzJ,KAAKyJ,QAAQ4C,GAAG,IAA+B,GAAzBrM,KAAKyJ,QAAQI,IAAI,MAEzE8B,cArBJ,WAsBM,OAAO3L,KAAKmL,iBAAmBnL,KAAK0L,gBAEtCY,MAxBJ,WAyBM,OAAO/K,EAAgBvB,KAAKiL,cAE9BG,SA3BJ,WA4BM,OAAIpL,KAAKmL,gBACA,KAEFhI,EAAkBnD,KAAKsL,WAEhCD,SAjCJ,WAkCM,IAAKrL,KAAK0H,QACR,OAAO,KAET,IAAK1H,KAAKoL,SACR,OAAOjI,EAAkBnD,KAAK0H,SAEhC,IAAN,kCACM,OAAOvE,EAAkBuE,IAE3B6E,oBA3CJ,WA4CM,OAAKvM,KAAKyH,SAAYzH,KAAKyJ,QAGpBzJ,KAAKyH,QAAQ+E,IAAIxM,KAAKyJ,SAFpB,MAIXqC,oBAjDJ,WAkDM,OAAK9L,KAAKuM,qBAAwBvM,KAAKuK,MAGhCvK,KAAKuM,oBAAoBN,IAAIjM,KAAKuK,OAFhC,MAIXwB,YAvDJ,WAwDM,GAAI/L,KAAKmL,iBAAoC,OAAjBnL,KAAK0H,QAC/B,OAAO,KAET,IAAN,kCACM,OAAOA,EAAQ8D,GAAG,IAEpBQ,UA9DJ,WA+DM,IAAKhM,KAAK8L,sBAAwB9L,KAAKqL,UAAYrL,KAAKmL,iBAAmBnL,KAAK+L,YAC9E,OAAO,KAET,IAAN,kCACA,OACM,OAAO/L,KAAK8L,oBAAoBhJ,IAAI2J,IAEtCb,uBAtEJ,WAuEM,OAAiC,OAA7B5L,KAAK8L,oBACA,KAEF9L,KAAK8L,oBAAoBY,IAAI,IAEtCb,uBA5EJ,WA6EM,QAAI7L,KAAK+L,cAGc,OAAnB/L,KAAKgM,UACA,KAEFhM,KAAK4L,wBAA0B5L,KAAKgM,UAAUU,IAAI1M,KAAKkM,sBAGlES,MAAO,CACLpC,MAAO,CACLqC,QADN,WAEQ5M,KAAKkL,cAAgB,EAA7B,oCAEM2B,WAAW,IAGfnH,QAAS,CACPiF,MADJ,WAEM3K,KAAK6G,MAAM,UAEb,IAJJ,WAIA,uKACA,kBADA,SAGA,mCACA,yBAJA,SAKA,gBACA,UACA,WACA,cACA,QACA,mBAVA,OAaA,mBAbA,mDAeA,iEAfA,QAiBA,kBACA,iBAlBA,8DCzRkV,MCQ9U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCgDf,IACEvI,KAAM,aACNgG,MAAO,CACT,gBACA,UACA,UACA,WAEEyF,WAAY,CACV+C,SAAJ,GACI5C,cAAJ,QACIC,gBAAJ,SAGEjO,KAdF,WAeI,MAAO,CACL6Q,MAAO,KACPxC,MAAO,KACPyC,OAAQ,KACRvC,gBAAgB,EAChB9B,QAAQ,EACR2B,UANN,SAMA,GACQ,OAAKvL,EAGE,EAAf,kCAFiB,aAOf2K,SAAU,CACRU,QADJ,WAEM,OAAOzI,EAAgB3B,KAAKU,cAAeQ,EAAS,KAEtDmJ,SAJJ,WAKM,OAAoB,OAAhBrK,KAAKgN,OACA,UAEJhN,KAAKgN,OAGS,OAAfhN,KAAK+M,MACA,UAEL/M,KAAK+M,OAAS/M,KAAKqH,QACd,MAEF/E,EAAetC,KAAK+M,OARlB,QAUXvC,YAnBJ,WAoBM,OAAsB,OAAfxK,KAAK+M,OAAkB/M,KAAKqH,SAAWrH,KAAK+M,QAIvDJ,MAAO,CACL,cADJ,WACA,kKACA,gBADA,0CAGA,gCAHA,cAGA,EAHA,OAIA,aAJA,SAKA,8BALA,UAKA,SALA,QAMA,SANA,kCAOA,+BAPA,QAOA,QAPA,+BASA,aATA,6DAYA,cACA,aACA,aACA,gEAfA,gCAkBA,cACA,aACA,aApBA,+DC1HoV,MCOhV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI5M,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAAC+G,YAAY,oBAAoBC,YAAY,CAAC,iBAAiB,SAAS,CAAChH,EAAG,IAAI,CAAC+G,YAAY,iBAAiB,CAACnH,EAAI6H,GAAG,iBAAmB7H,EAAI4I,OAA4I5I,EAAIqH,KAAxIjH,EAAG,kBAAkB,CAAC+G,YAAY,kBAAkB7G,MAAM,CAAC,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAAS+G,GAAQvH,EAAI4I,QAAU5I,EAAI4I,WAAqB5I,EAAU,OAAEI,EAAG,oBAAoB,CAAC+G,YAAY,kBAAkB7G,MAAM,CAAC,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAAS+G,GAAQvH,EAAI4I,QAAU5I,EAAI4I,WAAW5I,EAAIqH,MAAM,GAAKrH,EAAI4I,OAAoiD5I,EAAIqH,KAAhiDjH,EAAG,MAAM,CAAGJ,EAAIkN,OAAOvQ,OAAsGyD,EAAG,MAAM,CAAC+G,YAAY,eAAe,CAAC/G,EAAG,MAAM,CAAC+G,YAAY,uBAAuB,CAAC/G,EAAG,SAAS,CAACI,GAAG,CAAC,OAASR,EAAImN,WAAWnN,EAAI+H,GAAI/H,EAAU,QAAE,SAASoN,GAAO,OAAOhN,EAAG,SAAS,CAACd,IAAI8N,EAAMpL,GAAGoH,SAAS,CAAC,MAAQgE,EAAMpL,GAAG,SAAWhC,EAAIW,eAAiByM,EAAMpL,IAAMhC,EAAIW,cAAcqB,KAAK,CAAChC,EAAI6H,GAAG,IAAI7H,EAAI8H,GAAG9H,EAAIqN,YAAYD,EAAMpL,KAAK,UAAS,OAArb5B,EAAG,MAAM,CAAC+G,YAAY,eAAe,CAAC/G,EAAG,IAAI,CAACJ,EAAI6H,GAAG,yCAAwY7H,EAAiB,cAAEI,EAAG,MAAM,CAAC+G,YAAY,eAAe,CAAC/G,EAAG,QAAQ,CAAC+G,YAAY,sBAAsB,CAAC/G,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAI6H,GAAG,iBAAiBzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG7H,EAAI8H,GAAG9H,EAAI6B,OAAO,IAAI,KAAK7B,EAAI8H,GAAG9H,EAAI6B,OAAO,SAASzB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAI6H,GAAG,WAAWzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG7H,EAAI8H,GAAG9H,EAAIsN,eAAelN,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAI6H,GAAG,WAAWzH,EAAG,KAAK,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,SAAWN,EAAI8K,SAAS,cAAc,GAAG,SAAW,IAAIC,MAAM,CAAC/L,MAAOgB,EAAI8K,SAAS9K,EAAIW,cAAc4L,MAAMF,YAAarB,SAAS,SAAUC,GAAMjL,EAAIuN,KAAKvN,EAAI8K,SAAU9K,EAAIW,cAAc4L,MAAMF,WAAYpB,IAAM9B,WAAW,+CAA+C,WAAWnJ,EAAIqH,KAAMrH,EAAiB,cAAEI,EAAG,MAAM,CAAC+G,YAAY,eAAe,CAAC/G,EAAG,OAAO,CAACA,EAAG,mBAAmB,CAACE,MAAM,CAAC,QAAUN,EAAIsH,QAAQ,QAAUtH,EAAIW,cAAcqB,GAAG,aAAehC,EAAIW,cAAc4L,OAAO/L,GAAG,CAAC,MAAQ,SAAUwI,GAAO,OAAOhJ,EAAI8G,MAAM,QAASkC,OAAW5I,EAAG,mBAAmB,CAACE,MAAM,CAAC,QAAUN,EAAIsH,QAAQ,QAAUtH,EAAIW,cAAcqB,IAAIxB,GAAG,CAAC,MAAQ,SAAUwI,GAAO,OAAOhJ,EAAI8G,MAAM,QAASkC,QAAY,KAAKhJ,EAAIqH,UAC9kE,GAAkB,G,aCDlB,GAAS,WAAa,IAAIrH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC+G,YAAY,oBAAoB,CAAC/G,EAAG,MAAM,CAAC+G,YAAY,WAAW,CAAC/G,EAAG,QAAQ,CAAC6I,WAAW,CAAC,CAAC1K,KAAK,QAAQ2K,QAAQ,UAAUlK,MAAOgB,EAAc,WAAEmJ,WAAW,eAAehC,YAAY,QAAQ7G,MAAM,CAAC,KAAO,OAAO,YAAc,QAAQ8I,SAAS,CAAC,MAASpJ,EAAc,YAAGQ,GAAG,CAAC,MAAQ,SAAS+G,GAAWA,EAAO8B,OAAOC,YAAqBtJ,EAAIwN,WAAWjG,EAAO8B,OAAOrK,WAAWgB,EAAIwN,YAAcxN,EAAIyN,aAAcrN,EAAG,IAAI,CAAC+G,YAAY,kBAAkB,CAACnH,EAAI6H,GAAG,mBAAmB7H,EAAIqH,OAAOjH,EAAG,MAAM,CAAC+G,YAAY,WAAW,CAAC/G,EAAG,IAAI,CAAC+G,YAAY,iBAAiBgB,MAAM,CAAC,aAAcnI,EAAIyJ,cAAcnJ,MAAM,CAAC,SAAWN,EAAIyN,cAAcjN,GAAG,CAAC,MAAQR,EAAI0N,cAAc,CAAC1N,EAAI6H,GAAG,yBACxwB,GAAkB,GCsBtB,IACEtJ,KAAM,mBACNgG,MAAO,CACT,UACA,WAGEpI,KAPF,WAQI,MAAO,CACLqR,WAAY,KACZ/D,cAAc,IAIlBE,SAAU,CACRa,MADJ,WAEM,IACE,OAAO,EAAf,uCACA,UACQ,OAAO,OAGXiD,aARJ,WASM,OAAsB,OAAfxN,KAAKuK,OAAkBvK,KAAKuK,OAAS,GAAKvK,KAAKuK,MAAQ,KAAO,IAIzE7E,QAAS,CACP,YADJ,WACA,uKACA,kBADA,SAGA,mCACA,yBAJA,SAKA,iCALA,OAMA,gBANA,mDAQA,0EARA,QAUA,kBAVA,8DCnDqV,MCOjV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI3F,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC+G,YAAY,wCAAwC,CAAC/G,EAAG,MAAM,CAAC+G,YAAY,uBAAuB,CAAC/G,EAAG,MAAM,CAAC+G,YAAY,uBAAuB,CAAC/G,EAAG,MAAM,CAAC+G,YAAY,oBAAoB,CAAC/G,EAAG,aAAa,CAACE,MAAM,CAAC,SAAWN,EAAI8K,SAAS,cAAc,GAAG,YAAY,OAAOC,MAAM,CAAC/L,MAAOgB,EAAY,SAAEgL,SAAS,SAAUC,GAAMjL,EAAI2N,SAAS1C,GAAK9B,WAAW,eAAe,OAAO/I,EAAG,MAAM,CAAC+G,YAAY,WAAW,CAAC/G,EAAG,IAAI,CAAC+G,YAAY,iBAAiBgB,MAAM,CAAC,aAAcnI,EAAIyJ,cAAcnJ,MAAM,CAAC,UAAYN,EAAI4N,cAAcpN,GAAG,CAAC,MAAQR,EAAI6N,cAAc,CAAC7N,EAAI6H,GAAG,yBACvpB,GAAkB,GC8BtB,IACEtJ,KAAM,mBACNyL,WAAY,CACV8D,UAAJ,MAGEvJ,MAAO,CACT,UACA,UACA,gBAGEpI,KAZF,WAaI,MAAO,CACLsN,cAAc,EACdkE,SAAU,UACV7C,SAAUxJ,IAIdsL,MAAO,CACLmB,aAAc,CACZlB,QADN,WAEQ5M,KAAK0N,SAAW1N,KAAK6K,SAAS7K,KAAK8N,eAErCjB,WAAW,IAIfnD,SAAU,CACRiE,aADJ,WAEM,OAAOpM,EAAgBvB,KAAK0N,WAAa1N,KAAK8N,eAIlDpI,QAAS,CACP,YADJ,WACA,uKACA,kBADA,SAGA,mCACA,yBAJA,SAKA,oCALA,0DAOA,0EAPA,QASA,kBATA,8DCnEqV,MCOjV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCiEf,+MAUA,IACEpH,KAAM,kBACNyL,WAAY,CACVgE,iBAAJ,GACIC,iBAAJ,GACIH,UAAJ,KACI3D,cAAJ,QACIC,gBAAJ,SAEE7F,MAAO,CACT,WAEEpI,KAZF,WAaI,MAAO,CACL+Q,OAAQ,GACRvM,cAAe,KACfiI,QAAQ,EACRkC,SAAUxJ,IAIdsL,MAAO,CACLtF,QAAS,CACPuF,QAAS,SAAf,KACQ,GAAIqB,GAAcC,EAGlB,OAAmB,OAAfD,GACFjO,KAAKiN,OAAS,QACdjN,KAAKU,cAAgB,YAGvBV,KAAKmO,eAEPtB,WAAW,IAIfnD,SAAU,CACRa,MADJ,WAEM,OAAKvK,KAAKU,cAGHqC,EAAU,EAAvB,+CAFe,MAIXsK,SAPJ,WAQM,OAAKrN,KAAKU,cAGH,EAAb,2CAFe,IAIXkB,OAbJ,WAcM,IAAK5B,KAAKU,cACR,MAAO,EAAE,GAAI,GAEf,IAAN,+CACM,OAAOoB,EAAgBsM,EAAOlN,EAAS,MAI3CwE,QAAS,CACP,YADJ,WACA,oKACA,YACA,qBACA,KAHA,gCAMA,uBACA,SACA,WACA,kBACA,YAVA,UAMA,EANA,OAaA,gBACA,YAdA,wBAeA,oBACA,6BAhBA,4BAoBA,6CACA,mBArBA,4DAuBA,YACA,6DAxBA,uGA8BIwH,SA/BJ,SA+BA,GACM,IADN,EACA,iBADA,iBAEA,aAFA,IAEA,0CACA,WAEA,YADA,uBAJA,kCAUIE,YAzCJ,SAyCA,GACM,OAAO,EAAb,qCCnMyV,MCOrV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIrN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC+G,YAAY,QAAQgB,MAAM,CAAC,YAAanI,EAAI2K,SAAS,CAACvK,EAAG,MAAM,CAAC+G,YAAY,qBAAqB/G,EAAG,MAAM,CAAC+G,YAAY,mBAAmB,CAAC/G,EAAG,SAAS,CAAC+G,YAAY,mBAAmB,CAAC/G,EAAG,SAAS,CAAC+G,YAAY,yBAAyB7G,MAAM,CAAC,aAAa,SAASE,GAAG,CAAC,MAAQ,SAAS+G,GAAQ,OAAOvH,EAAI4K,cAAcxK,EAAG,UAAU,CAAC+G,YAAY,mBAAmB,CAACnH,EAAI6K,GAAG,GAAGzK,EAAG,MAAM,CAAC+G,YAAY,6BAA6B,CAAC/G,EAAG,KAAK,CAACA,EAAG,KAAK,CAAC+H,MAAM,CAAC,YAA8B,GAAjBnI,EAAIsO,aAAgB9N,GAAG,CAAC,MAAQ,SAAS+G,GAAQvH,EAAIsO,YAAY,KAAK,CAACtO,EAAI6K,GAAG,KAAKzK,EAAG,KAAK,CAAC+H,MAAM,CAAC,YAA8B,GAAjBnI,EAAIsO,aAAgB9N,GAAG,CAAC,MAAQ,SAAS+G,GAAQvH,EAAIsO,YAAY,KAAK,CAACtO,EAAI6K,GAAG,SAA2B,GAAjB7K,EAAIsO,YAAgBlO,EAAG,MAAM,CAACJ,EAAI6K,GAAG,GAAG7K,EAAI6K,GAAG,GAAG7K,EAAI6K,GAAG,GAAG7K,EAAI6K,GAAG,GAAG7K,EAAI6K,GAAG,GAAG7K,EAAI6K,GAAG,GAAG7K,EAAI6K,GAAG,GAAG7K,EAAI6K,GAAG,IAAI7K,EAAI6K,GAAG,MAAM7K,EAAIqH,KAAuB,GAAjBrH,EAAIsO,YAAgBlO,EAAG,MAAM,CAACJ,EAAI6K,GAAG,IAAI7K,EAAI6K,GAAG,IAAI7K,EAAI6K,GAAG,IAAI7K,EAAI6K,GAAG,MAAM7K,EAAIqH,YACn9B,GAAkB,CAAC,WAAa,IAAIrH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC+G,YAAY,OAAO,CAAC/G,EAAG,MAAM,CAACE,MAAM,CAAC,IAAM,EAAQ,QAA6B,MAAQ,QAAQ,IAAM,mBAAmB,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACA,EAAG,SAAS,CAACJ,EAAI6H,GAAG,cAAc,WAAa,IAAI7H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACA,EAAG,SAAS,CAACJ,EAAI6H,GAAG,eAAe,WAAa,IAAI7H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,kBAAkBzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG,qKAAqKzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,kCAAkC,CAACN,EAAI6H,GAAG,oBAAoB7H,EAAI6H,GAAG,MAAMzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,kCAAkC,CAACN,EAAI6H,GAAG,iBAAiB7H,EAAI6H,GAAG,UAAUzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,oCAAoC,CAACN,EAAI6H,GAAG,wBAAwB,WAAa,IAAI7H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,oBAAoBzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG,obAAobzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG,gYAAgY,WAAa,IAAI7H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,sCAAsCzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG,OAAOzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,gEAAgE,CAACN,EAAI6H,GAAG,iDAAiD7H,EAAI6H,GAAG,+PAA+P,WAAa,IAAI7H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,8BAA8BzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG,2TAA2TzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG,kRAAkR,WAAa,IAAI7H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,yCAAyCzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG,iFAAiFzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,2DAA2D,CAACN,EAAI6H,GAAG,wDAAwD7H,EAAI6H,GAAG,klBAAklBzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG,6KAA6K,WAAa,IAAI7H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,uBAAuBzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG,2YAA2Y,WAAa,IAAI7H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,iBAAiBzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG,0XAA0X,WAAa,IAAI7H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,mBAAmBzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG,uBAAuBzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,oGAAoG,CAACN,EAAI6H,GAAG,mDAAoDzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG,kBAAkBzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,2CAA2C,CAACN,EAAI6H,GAAG,8CAA8CzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG,eAAezH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,iEAAiE,CAACN,EAAI6H,GAAG,qBAAqB,WAAa,IAAI7H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,wBAAwBzH,EAAG,IAAI,CAACJ,EAAI6H,GAAG,8IAA8IzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,8DAA8D,CAACN,EAAI6H,GAAG,iCAAiC7H,EAAI6H,GAAG,yDAAyDzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,iDAAiD,CAACN,EAAI6H,GAAG,oBAAoB7H,EAAI6H,GAAG,gCAAgCzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,4BAA4B,CAACN,EAAI6H,GAAG,qBAAqB7H,EAAI6H,GAAG,kIAAkIzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,qGAAqG,CAACN,EAAI6H,GAAG,2BAA2B7H,EAAI6H,GAAG,+MAA+MzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,sEAAsE,CAACN,EAAI6H,GAAG,qBAAqB7H,EAAI6H,GAAG,wCAAwC,WAAa,IAAI7H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,kBAAkBzH,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAI6H,GAAG,aAAazH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,0BAA0B,CAACN,EAAI6H,GAAG,cAAc7H,EAAI6H,GAAG,8BAA8BzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG,2EAA2EzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,0BAA0B,CAACN,EAAI6H,GAAG,cAAc7H,EAAI6H,GAAG,UAAUzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,oCAAoC,CAACN,EAAI6H,GAAG,kBAAkB7H,EAAI6H,GAAG,sBAAsBzH,EAAG,MAAMJ,EAAI6H,GAAG,2EAA2EzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,kCAAkC,CAACN,EAAI6H,GAAG,iBAAiB7H,EAAI6H,GAAG,OAAOzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG,8CAA8CzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,wEAAwE,CAACN,EAAI6H,GAAG,kBAAkB7H,EAAI6H,GAAG,wBAAwBzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG,4JAA4J,WAAa,IAAI7H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,qBAAqBzH,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAI6H,GAAG,sCAAsCzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG,4BAA4BzH,EAAG,SAAS,CAACJ,EAAI6H,GAAG,qBAAqB7H,EAAI6H,GAAG,YAAYzH,EAAG,SAAS,CAACJ,EAAI6H,GAAG,SAAS7H,EAAI6H,GAAG,OAAOzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG,2CAA2CzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG,0KAA0KzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG,kOAAkOzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG,gGAAgGzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG,UAAUzH,EAAG,SAAS,CAACJ,EAAI6H,GAAG,SAAS7H,EAAI6H,GAAG,OAAOzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG,uCAAuCzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG,wDAAwD,WAAa,IAAI7H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC+G,YAAY,SAAS,CAACnH,EAAI6H,GAAG,sBAAsBzH,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAI6H,GAAG,4GAA4GzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG,2IAA2IzH,EAAG,KAAK,CAACJ,EAAI6H,GAAG,+BAA+BzH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,oCAAoC,CAACN,EAAI6H,GAAG,iBAAiB7H,EAAI6H,GAAG,wBAAwB,WAAa,IAAI7H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC+G,YAAY,cAAc,CAACnH,EAAI6H,GAAG,+CAA+CzH,EAAG,MAAMJ,EAAI6H,GAAG,mGCoK9uV,IACEtJ,KAAM,aACNgG,MAAO,CAAC,UACRoB,QAAS,CACPiF,MADJ,WAEM3K,KAAK6G,MAAM,WAGf3K,KARF,WASI,MAAO,CACLmS,YAAa,KC/KiU,MCOhV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCiDf,IACE/P,KAAM,SACNyL,WAAY,CACVuE,aAAJ,EACIC,aAAJ,GACIC,WAAJ,GACIC,gBAAJ,GACIC,WAAJ,IAEEpK,MAAO,CACT,gBACA,cACA,gBAGEpI,KAfF,WAgBI,MAAO,CACLmL,QAAS,KACTsH,OAAQ,GACRC,UAAW,EACXjH,kBAAkB,EAClBF,QAAS,KACTC,QAAS,OAIbhC,QAAS,CACP,iBADJ,SACA,0KACA,YACA,eACA,eAHA,kBAKA,kCALA,cAKA,EALA,gBAMA,kCANA,OAMA,EANA,OAOA,eACA,eARA,qDAUA,mCACA,mCACA,0DAZA,QAeA,0CACA,eAGA,iBACA,eAEA,kCAGA,2CACA,eAGA,iBACA,eAEA,kCAGA,wCACA,mBAGA,eACA,8BACA,+BAEA,eACA,8BAIA,0CACA,sCAjDA,6DAuDI6B,QAxDJ,SAwDA,GACMvH,KAAK2O,OAAO3R,KAAK,CACfiL,QAAS4G,EACTxP,IAAKW,KAAK4O,YAEZ5O,KAAK4O,aAEP5G,YA/DJ,SA+DA,GACM,IADN,EACA,KADA,iBAEA,aAFA,IAEA,0CACA,UACA,WAJA,gCAOMhI,KAAK2O,OAASG,KCnK4T,MCO5U,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,M,QCCf,IACExQ,KAAM,MACNyL,WAAY,CACVgF,OAAJ,EACIC,OAAJ,IAGE9S,KAPF,WAQI,MAAO,CACLwE,cAAe,KACfC,YAAa,KACbsO,QAAS,OAIbvK,QAfF,WAeA,WACI,KAAJ,yCACM,EAAN,cAIEgF,SAAU,CACRpJ,aADJ,WAEM,OAAKN,KAAKiP,QAGqB,KAAxBjP,KAAKiP,QAAQC,QAFX,OAMbxJ,QAAS,CACPlF,gBADJ,SACA,GACMR,KAAKU,cAAgBkB,GAEvBnB,qBAJJ,SAIA,GACMT,KAAKW,YAAciB,KCtDqS,MCO1T,GAAY,eACd,GACA,EACAhB,GACA,EACA,KACA,KACA,MAIa,M,sDCTf,GAAIhB,OAAOyI,SAAU,CACnB,IAAM8G,GAAW,IAAI9L,OAAO+L,UAAUC,aAAazP,OAAOyI,UACpD9F,GAAU,6CACV+M,GAAW,IAAIjM,OAAOkM,SAAShN,GAASiN,GAAmBC,IAAKN,IAGtEO,OAAI9S,UAAU2L,UAAY4G,GAC1BO,OAAI9S,UAAU2I,UAAY+J,QAE1BI,OAAI9S,UAAU2L,UAAY,KAC1BmH,OAAI9S,UAAU+S,kBAAoB,KAGpC,IAAMC,GAAe,IAAIC,mBAAa,CACpCC,IAAK,gEACLC,MAAO,IAAIC,sBAEbN,OAAI9S,UAAUyI,cAAgBuK,GAE9BF,OAAIO,OAAOC,eAAgB,EAE3B,IAAIR,OAAI,CACNS,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,OACdC,OAAO,S,yDChCV","file":"js/app.535cc054.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/logoRainbow.9fc79ccc.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Canvas',{attrs:{\"wrongNetwork\":_vm.wrongNetwork},on:{\"pixelSelected\":_vm.onPixelSelected,\"cursorPixelChanged\":_vm.onCursorPixelChanged}}),_c('Panels',{attrs:{\"selectedPixel\":_vm.selectedPixel,\"cursorPixel\":_vm.cursorPixel,\"wrongNetwork\":_vm.wrongNetwork}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{ref:\"canvas\",on:{\"mousedown\":_vm.onMouseDown,\"mousemove\":_vm.onMouseMove,\"mouseup\":_vm.onMouseUp,\"wheel\":_vm.onWheel}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const gridSize = [151, 151]\nconst taxRate = 12 * 0.01  // per year\n\nexport {\n    gridSize,\n    taxRate,\n}","import { ethers } from 'ethers'\nimport { taxRate } from './config'\n\nconst colorsHexAndRGBA = [\n  ['#ffffff', [255, 255, 255, 255]],\n  ['#e4e4e4', [228, 228, 228, 255]],\n  ['#888888', [136, 136, 136, 255]],\n  ['#222222', [34, 34, 34, 255]],\n  ['#ffa7d1', [255, 167, 209, 255]],\n  ['#e50000', [229, 0, 0, 255]],\n  ['#e59500', [229, 149, 0, 255]],\n  ['#a06a42', [160, 106, 66, 255]],\n  ['#e5d900', [229, 217, 0, 255]],\n  ['#94e044', [148, 224, 68, 255]],\n  ['#02be01', [2, 190, 1, 255]],\n  ['#00d3dd', [0, 211, 221, 255]],\n  ['#0083c7', [0, 131, 199, 255]],\n  ['#0000ea', [0, 0, 234, 255]],\n  ['#cf6ee4', [207, 110, 228, 255]],\n  ['#820080', [130, 0, 128, 255]],\n]\nlet colorsHex = [];\nlet colorsRGBA = [];\nlet colorHexIndices = {};\nfor (let [i, [hex, rgba]] of colorsHexAndRGBA.entries()) {\n  colorsHex.push(hex)\n  colorsRGBA.push(rgba)\n  colorHexIndices[hex] = i\n}\n\nfunction pixelCoordsToID(coords, width) {\n  return coords[0] + coords[1] * width\n}\n\nfunction idToPixelCoords(id, width) {\n  const x = id % width\n  const y = Math.floor(id / width)\n  const coords = [x, y]\n  console.assert(pixelCoordsToID(coords, width) == id)\n  return coords\n}\n\nfunction shortenAddress(address) {\n    const address1 = address.substring(0, 6)\n    const address2 = address.substring(38)\n    return address1.concat('â€¦', address2)\n}\n\nfunction weiToGWei(wei) {\n  return wei.div(1000000000)\n}\n\nfunction gWeiToWei(gwei) {\n  return gwei.mul(1000000000)\n}\n\nfunction weiToEth(wei) {\n  return wei.div(\"1000000000000000000\")\n}\n\nfunction computeMonthlyTax(value) {\n  const v = ethers.BigNumber.from(value)\n  const f = 100000\n  const taxYearly = v.mul(Math.round(taxRate * f)).div(f)\n  return taxYearly.div(12)\n}\n\nexport {\n  pixelCoordsToID,\n  idToPixelCoords,\n  weiToGWei,\n  gWeiToWei,\n  weiToEth,\n  shortenAddress,\n  colorsHex,\n  colorsRGBA,\n  colorHexIndices,\n  computeMonthlyTax,\n}","<template>\n  <canvas\n    ref=\"canvas\"\n    v-on:mousedown=\"onMouseDown\"\n    v-on:mousemove=\"onMouseMove\"\n    v-on:mouseup=\"onMouseUp\"\n    v-on:wheel=\"onWheel\"\n  >\n  </canvas>\n</template>\n\n<script>\nimport { ethers } from 'ethers'\nimport gql from 'graphql-tag'\nimport { idToPixelCoords, colorsRGBA } from '../utils'\nimport { gridSize } from '../config'\n\nconst pixelQuery = gql`\n  {\n    graffiti(id: \"\") {\n      pixels\n    }\n  }\n`\n\nconst minPixelSize = 1\nconst maxPixelSize = 50\n\nfunction clickPos(event) {\n  let rect = event.target.getBoundingClientRect()\n  let x = event.clientX - rect.left\n  let y = event.clientY - rect.top\n  return [x, y]\n}\n\nexport default {\n  name: \"Canvas\",\n\n  data() {\n    return {\n      ctx: null,\n      canvasSize: [0, 0],\n      pixelSize: 20,\n      canvasOffset: [0, 0],\n      selectedPixel: null,\n\n      offscreenCanvas: null,\n      offscreenCtx: null,\n      imageData: null,\n\n      mouseDownPos: null,\n      cursorPos: [0, 0],\n    }\n  },\n\n  props: [\"wrongNetwork\"],\n\n  created() {\n    window.addEventListener('resize', this.onResize)\n  },\n  mounted() {\n    this.ctx = this.$refs.canvas.getContext('2d')\n    this.resizeCanvas()\n    this.canvasOffset = [\n      -this.pixelSize * gridSize[0] / 2 + this.canvasSize[0] / 2,\n      -this.pixelSize * gridSize[1] / 2 + this.canvasSize[1] / 2,\n    ]\n\n    this.offscreenCanvas = document.createElement('canvas')\n    this.offscreenCanvas.width = gridSize[0]\n    this.offscreenCanvas.height = gridSize[1]\n    this.offscreenCtx = this.offscreenCanvas.getContext('2d')\n    this.offscreenCtx.imageSmoothingEnabled = false\n    this.imageData = this.offscreenCtx.createImageData(gridSize[0], gridSize[1])\n\n    this.draw()\n\n    this.$apolloClient.query({query: pixelQuery}).then((result) => {\n      this.setPixelsFromGraph(result.data)\n      this.draw()\n    })\n\n    this.$contract.on(\"ColorChange\", (id, color) => {\n      if (this.imageData) {\n        this.setPixel(id.toNumber(), color)\n        this.offscreenCtx.putImageData(this.imageData, 0, 0)\n        this.draw()\n      }\n    })\n  },\n  destroyed() {\n    window.removeEventListener('resize', this.onResize)\n  },\n\n  methods: {\n    onResize() {\n      this.resizeCanvas()\n      this.draw()\n    },\n\n    canvasToPixelCoords(c) {\n      return [\n        Math.floor((c[0] - this.canvasOffset[0]) / this.pixelSize),\n        Math.floor((c[1] - this.canvasOffset[1]) / this.pixelSize),\n      ]\n    },\n    pixelToCanvasCoords(c) {\n      return [\n        c[0] * this.pixelSize + this.canvasOffset[0],\n        c[1] * this.pixelSize + this.canvasOffset[1],\n      ]\n    },\n\n    resizeCanvas() {\n      this.canvasSize = [window.innerWidth, window.innerHeight];\n      this.$refs.canvas.width = this.canvasSize[0]\n      this.$refs.canvas.height = this.canvasSize[1]\n    },\n\n    draw() {\n      if (this.redrawRequested) {\n        return\n      }\n      this.redrawRequested = true\n      window.requestAnimationFrame(() => {\n        this.redrawRequested = false\n\n        this.ctx.fillStyle = '#eeeeee'\n        this.ctx.fillRect(0, 0, this.canvasSize[0], this.canvasSize[1])\n\n        this.ctx.save()\n        this.ctx.imageSmoothingEnabled = false\n        this.ctx.translate(this.canvasOffset[0], this.canvasOffset[1])\n        this.ctx.scale(this.pixelSize, this.pixelSize)\n        this.ctx.drawImage(this.offscreenCanvas, 0, 0)\n        this.ctx.restore()\n\n        if (this.selectedPixel) {\n          const canvasCoords = this.pixelToCanvasCoords(this.selectedPixel)\n          const d = this.pixelSize * 0.3\n\n          this.ctx.save()\n          this.ctx.lineWidth = 5\n          this.ctx.beginPath()\n          this.ctx.rect(\n            canvasCoords[0] - d,\n            canvasCoords[1] - d,\n            this.pixelSize + 2 * d,\n            this.pixelSize + 2 * d,\n          )\n          this.ctx.stroke()\n          this.ctx.restore()\n        }\n      })\n    },\n\n    setPixelsFromGraph(data) {\n      let pixelsHex = data.graffiti.pixels\n      let pixelsUint8Array = ethers.utils.arrayify(pixelsHex)\n      for (let i = 0; i < pixelsUint8Array.length; i++) {\n        this.setPixel(i, pixelsUint8Array[i])\n      }\n      this.offscreenCtx.putImageData(this.imageData, 0, 0)\n    },\n\n    setPixel(id, colorByte) {\n      const rgba = colorsRGBA[colorByte];\n      const pixelCoords = idToPixelCoords(id, gridSize[0]);\n      const redIndex = (pixelCoords[0] + pixelCoords[1] * gridSize[1]) * 4\n      for (let i = 0; i < 4; i++) {\n        this.imageData.data[redIndex + i] = rgba[i]\n      }\n    },\n\n    zoom(factor) {\n      const diff = [\n        this.canvasOffset[0] - this.cursorPos[0],\n        this.canvasOffset[1] - this.cursorPos[1],\n      ]\n      const pixelSizeBefore = this.pixelSize\n      this.pixelSize = this.pixelSize * factor\n\n      if (this.pixelSize < minPixelSize) {\n        this.pixelSize = minPixelSize\n      } else if (this.pixelSize > maxPixelSize) {\n        this.pixelSize = maxPixelSize\n      }\n\n      const realFactor = this.pixelSize / pixelSizeBefore\n      const diffScaled = [\n        diff[0] * realFactor,\n        diff[1] * realFactor,\n      ]\n      this.canvasOffset = [\n        this.cursorPos[0] + diffScaled[0],\n        this.cursorPos[1] + diffScaled[1],\n      ]\n\n      this.draw()\n    },\n\n    onMouseDown(event) {\n      if (event.button == 0) {\n        this.mouseDownPos = clickPos(event)\n      }\n    },\n    onMouseMove(event) {\n      const oldPixel = this.canvasToPixelCoords(this.cursorPos)\n      this.cursorPos = clickPos(event)\n      const newPixel = this.canvasToPixelCoords(this.cursorPos)\n      if (newPixel[0] != oldPixel[0] || newPixel[1] != oldPixel[1]) {\n        if (newPixel[0] >= 0 && newPixel[0] < gridSize[0] && newPixel[1] >= 0 && newPixel[1] < gridSize[1]) {\n          this.$emit('cursorPixelChanged', newPixel)\n        } else {\n          this.$emit('cursorPixelChanged', null)\n        }\n      }\n\n      if (this.mouseDownPos) {  // dragging\n        this.canvasOffset = [\n          this.canvasOffset[0] + event.movementX,\n          this.canvasOffset[1] + event.movementY,\n        ]\n        this.draw()\n      }\n    },\n    onMouseUp(event) {\n      if (event.button != 0) {\n        return\n      }\n\n      const mouseUpPos = clickPos(event)\n      if (this.mouseDownPos && mouseUpPos[0] == this.mouseDownPos[0] && mouseUpPos[1] == this.mouseDownPos[1]) {\n        const pixelCoords = this.canvasToPixelCoords(mouseUpPos)\n        if (pixelCoords[0] < 0 || pixelCoords[1] < 0 || pixelCoords[0] >= gridSize[0] || pixelCoords[1] >= gridSize[1]) {\n          this.selectedPixel = null\n        } else if (this.selectedPixel === null || this.selectedPixel[0] != pixelCoords[0] || this.selectedPixel[1] != pixelCoords[1]) {\n          this.selectedPixel = pixelCoords\n        } else {\n          this.selectedPixel = null\n        }\n        this.$emit('pixelSelected', this.selectedPixel)\n        this.draw()\n      }\n\n      this.mouseDownPos = null\n    },\n    onWheel(event) {\n      this.zoom(1 - event.deltaY / 10)\n    },\n  },\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Canvas.vue?vue&type=template&id=337c417c&\"\nimport script from \"./Canvas.vue?vue&type=script&lang=js&\"\nexport * from \"./Canvas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"is-overlay\",staticStyle:{\"pointer-events\":\"none\"}},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"columns\"},[(!_vm.wrongNetwork)?_c('div',{staticClass:\"column is-narrow\"},[(!_vm.wrongNetwork)?_c('ConnectPanel',{attrs:{\"account\":_vm.account},on:{\"error\":function($event){return _vm.onError($event)},\"accountChanged\":_vm.onAccountChanged}}):_vm._e(),(_vm.account)?_c('AccountPanel',{attrs:{\"account\":_vm.account,\"balance\":_vm.balance,\"taxBase\":_vm.taxBase},on:{\"error\":function($event){return _vm.onError($event)}}}):_vm._e(),_c('PixelPanel',{attrs:{\"selectedPixel\":_vm.selectedPixel,\"account\":_vm.account,\"balance\":_vm.balance,\"taxBase\":_vm.taxBase},on:{\"error\":function($event){return _vm.onError($event)}}})],1):_vm._e(),_c('div',{staticClass:\"column is-narrow\"},[(_vm.account)?_c('OwnedPixelPanel',{attrs:{\"account\":_vm.account},on:{\"error\":function($event){return _vm.onError($event)}}}):_vm._e(),_c('div',{attrs:{\"id\":\"i\"},on:{\"click\":function($event){_vm.aboutModalActive = true}}},[_vm._v(\"?\")]),(_vm.aboutModalActive)?_c('AboutModal',{attrs:{\"active\":_vm.aboutModalActive},on:{\"close\":function($event){_vm.aboutModalActive = false}}}):_vm._e()],1),_c('div',{attrs:{\"id\":\"i\"},on:{\"click\":function($event){_vm.aboutModalActive = true}}},[_vm._v(\"?\")]),(_vm.cursorPixel)?_c('div',{attrs:{\"id\":\"coords\"}},[_vm._v(_vm._s(_vm.cursorPixel[0])+\", \"+_vm._s(_vm.cursorPixel[1]))]):_vm._e(),(_vm.wrongNetwork !== null && _vm.wrongNetwork)?_c('div',[_c('div',{staticClass:\"notification is-dark\",staticStyle:{\"pointer-events\":\"auto\"}},[_vm._v(\" Wrong Network â˜¹ï¸ Please change to xDai and refresh the page. \")])]):_vm._e(),_c('div',{staticClass:\"column\"},_vm._l((_vm.errors),function(error){return _c('div',{key:error.key,staticClass:\"notification is-danger\",staticStyle:{\"pointer-events\":\"auto\"}},[_c('button',{staticClass:\"delete\",on:{\"click\":function($event){return _vm.removeError(error.key)}}}),_vm._v(\" \"+_vm._s(error.message)+\" \")])}),0)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.account)?_c('article',{staticClass:\"panel is-outlined\",staticStyle:{\"pointer-events\":\"auto\"}},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" Wallet Connection \")]),_c('div',{staticClass:\"panel-block\"},[_c('button',{staticClass:\"button is-fullwidth is-dark\",class:{'is-loading': _vm.waitingForAccount},on:{\"click\":_vm.connect}},[_vm._v(\" Connect \")])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <article v-if=\"!account\" class=\"panel is-outlined\" style=\"pointer-events: auto;\">\n    <p class=\"panel-heading\">\n      Wallet Connection\n    </p>\n    <div class=\"panel-block\">\n      <button class=\"button is-fullwidth is-dark\" v-bind:class=\"{'is-loading': waitingForAccount}\" v-on:click=\"connect\">\n        Connect\n      </button>\n    </div>\n\n  </article>\n</template>\n\n<script>\nimport { ethers } from 'ethers'\n\nexport default {\n  name: 'ConnectPanel',\n  data() {\n    return {\n      waitingForAccount: false,\n    }\n  },\n  props: [\n    \"account\"\n  ],\n\n  created() {\n    window.ethereum.on('accountsChanged', this.onAccountsChanged)\n    this.$provider.listAccounts().then((accounts) => {\n      if (accounts.length > 0) {\n        this.$emit(\"accountChanged\", accounts[0])\n      }\n    })\n  },\n\n  methods: {\n    async connect() {\n      this.waitingForAccount = true\n      let accounts\n      try {\n        accounts = await window.ethereum.request({method: 'eth_requestAccounts'})\n      } catch(err) {\n        this.$emit('error', 'Failed to requests accounts: ' + err.message)\n      }\n      this.$emit(\"accountChanged\", ethers.utils.getAddress(accounts[0]))\n      this.waitingForAccount = false\n    },\n\n    onAccountsChanged(accounts) {\n      if (accounts.length >= 0) {\n        this.$emit(\"accountChanged\", ethers.utils.getAddress(accounts[0]))\n      } else {\n        this.$emit('error', 'No connected account.')\n      }\n    }\n  },\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConnectPanel.vue?vue&type=template&id=21a1d770&\"\nimport script from \"./ConnectPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ConnectPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"panel is-outlined\",staticStyle:{\"pointer-events\":\"auto\"}},[_c('div',{staticClass:\"panel-heading\"},[_vm._v(\" Account \"),(!_vm.folded)?_c('chevron-up-icon',{staticClass:\"is-pulled-right\",attrs:{\"size\":\"1.5x\"},on:{\"click\":function($event){_vm.folded = !_vm.folded}}}):_vm._e(),(_vm.folded)?_c('chevron-down-icon',{staticClass:\"is-pulled-right\",attrs:{\"size\":\"1.5x\"},on:{\"click\":function($event){_vm.folded = !_vm.folded}}}):_vm._e()],1),(_vm.account && !_vm.folded)?_c('div',[_c('div',{staticClass:\"panel-block\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('th',[_vm._v(\"Address\")]),_c('td',[_vm._v(_vm._s(_vm.shortAddress))])]),_c('tr',[_c('th',[_vm._v(\"Balance\")]),_c('td',[_vm._v(_vm._s(_vm.balanceStr))])]),_c('tr',[_c('th',[_vm._v(\"Monthly Tax\")]),_c('td',[_vm._v(_vm._s(_vm.taxPerMonthStr))])])])])]),_c('div',{staticClass:\"panel-block\"},[_c('form',[_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\"},[_vm._v(\" Manage account balance \")]),_c('DepositField',{attrs:{\"account\":_vm.account},on:{\"error\":function (msg) { return _vm.$emit('error', msg); }}}),_c('WithdrawField',{attrs:{\"account\":_vm.account,\"balance\":_vm.balance},on:{\"error\":function (msg) { return _vm.$emit('error', msg); }}}),_c('p',[_vm._v(\" (If your balance runs out, you can lose your pixels!) \")])],1)])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field has-addons\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amountInput),expression:\"amountInput\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"xDai\"},domProps:{\"value\":(_vm.amountInput)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amountInput=$event.target.value}}}),(_vm.amountInput && _vm.amountInvalid)?_c('p',{staticClass:\"help is-danger\"},[_vm._v(\"Invalid deposit amount\")]):_vm._e()]),_c('div',{staticClass:\"control\"},[_c('a',{staticClass:\"button is-dark\",class:{'is-loading': _vm.waitingForTx},attrs:{\"disabled\":_vm.amountInvalid},on:{\"click\":_vm.deposit}},[_vm._v(\" Deposit \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"field has-addons\">\n    <div class=\"control\">\n      <input class=\"input\" type=\"text\" placeholder=\"xDai\" v-model=\"amountInput\">\n    <p v-if=\"amountInput && amountInvalid\" class=\"help is-danger\">Invalid deposit amount</p>\n    </div>\n    <div class=\"control\">\n      <a\n        class=\"button is-dark\"\n        v-bind:class=\"{'is-loading': waitingForTx}\"\n        v-bind:disabled=\"amountInvalid\"\n        v-on:click=\"deposit\"\n      >\n        Deposit\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ethers } from 'ethers'\n\nexport default {\n  name: \"DepositField\",\n  props: [\n    \"account\",\n  ],\n\n  data() {\n    return {\n      amountInput: null,\n      waitingForTx: false,\n    }\n  },\n\n  computed: {\n    amount() {\n      try {\n        return ethers.utils.parseEther(this.amountInput)\n      } catch(err) {\n        return null\n      }\n    },\n    amountInvalid() {\n      return this.amount === null || this.amount.lte(0) || this.amount.mod(1e9) != 0\n    },\n  },\n\n  methods: {\n    async deposit() {\n      this.waitingForTx = true\n      try {\n        let signer = this.$provider.getSigner(this.account)\n        let contract = this.$contract.connect(signer)\n        await contract.deposit({value: this.amount})\n        this.amountInput = \"\"\n      } catch(err) {\n        this.$emit('error', 'Failed to send deposit transaction: ' + err.message)\n      }\n      this.waitingForTx = false\n    },\n  },\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Deposit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Deposit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Deposit.vue?vue&type=template&id=5e5c0ce2&\"\nimport script from \"./Deposit.vue?vue&type=script&lang=js&\"\nexport * from \"./Deposit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field has-addons\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amountInput),expression:\"amountInput\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"xDai\"},domProps:{\"value\":(_vm.amountInput)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amountInput=$event.target.value}}}),(_vm.amountInput && _vm.amountInvalid)?_c('p',{staticClass:\"help is-danger\"},[_vm._v(\"Invalid withdraw amount\")]):_vm._e()]),_c('div',{staticClass:\"control\"},[_c('a',{staticClass:\"button is-dark\",class:{'is-loading': _vm.waitingForTx},attrs:{\"disabled\":_vm.amountInvalid},on:{\"click\":_vm.withdraw}},[_vm._v(\" Withdraw \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"field has-addons\">\n    <div class=\"control\">\n      <input class=\"input\" type=\"text\" placeholder=\"xDai\" v-model=\"amountInput\">\n    <p v-if=\"amountInput && amountInvalid\" class=\"help is-danger\">Invalid withdraw amount</p>\n    </div>\n    <div class=\"control\">\n      <a\n        class=\"button is-dark\"\n        v-bind:class=\"{'is-loading': waitingForTx}\"\n        v-bind:disabled=\"amountInvalid\"\n        v-on:click=\"withdraw\"\n      >\n        Withdraw\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ethers } from 'ethers'\nimport { weiToGWei } from '../../utils.js'\n\nexport default {\n  name: \"WithdrawField\",\n  props: [\n    \"account\",\n    \"balance\",\n  ],\n\n  data() {\n    return {\n      amountInput: null,\n      waitingForTx: false,\n    }\n  },\n\n  computed: {\n    amount() {\n      try {\n        return ethers.utils.parseEther(this.amountInput)\n      } catch(err) {\n        return null\n      }\n    },\n    amountInvalid() {\n      return this.amount === null || this.amount.lte(0) || (this.balance !== null && this.balance.lt(this.amount))\n    },\n  },\n\n  methods: {\n    async withdraw() {\n      this.waitingForTx = true\n      try {\n        let signer = this.$provider.getSigner(this.account)\n        let contract = this.$contract.connect(signer)\n        await contract.withdraw(weiToGWei(this.amount))\n        this.amountInput = \"\"\n      } catch(err) {\n        this.$emit('error', 'Failed to send withdraw transaction: ' + err.message)\n      }\n      this.waitingForTx = false\n    },\n  },\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Withdraw.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Withdraw.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Withdraw.vue?vue&type=template&id=b841c34a&\"\nimport script from \"./Withdraw.vue?vue&type=script&lang=js&\"\nexport * from \"./Withdraw.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <article class=\"panel is-outlined\" style=\"pointer-events: auto;\">\n    <div class=\"panel-heading\">\n      Account\n      <chevron-up-icon size=\"1.5x\" class=\"is-pulled-right\" v-if=\"!folded\" v-on:click=\"folded = !folded\"></chevron-up-icon>\n      <chevron-down-icon size=\"1.5x\" class=\"is-pulled-right\" v-if=\"folded\" v-on:click=\"folded = !folded\"></chevron-down-icon>\n    </div>\n\n    <div v-if=\"account && !folded\">\n      <div class=\"panel-block\">\n        <table class=\"table is-fullwidth\">\n          <tbody>\n            <tr>\n              <th>Address</th>\n              <td>{{ shortAddress }}</td>\n            </tr>\n\n            <tr>\n              <th>Balance</th>\n              <td>{{ balanceStr }}</td>\n            </tr>\n\n            <tr>\n              <th>Monthly Tax</th>\n              <td>{{ taxPerMonthStr }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"panel-block\">\n        <form>\n          <div class=\"field\">\n            <label class=\"label\">\n              Manage account balance\n            </label>\n            <DepositField\n              v-bind:account=\"account\"\n              v-on:error=\"(msg) => $emit('error', msg)\"\n            />\n            <WithdrawField\n              v-bind:account=\"account\"\n              v-bind:balance=\"balance\"\n              v-on:error=\"(msg) => $emit('error', msg)\"\n            />\n            <p>\n              (If your balance runs out, you can lose your pixels!)\n            </p>\n          </div>\n        </form>\n      </div>\n    </div>\n  </article>\n</template>\n\n<script>\nimport { ethers } from 'ethers'\nimport DepositField from './Deposit.vue'\nimport WithdrawField from './Withdraw.vue'\nimport { shortenAddress } from '../../utils.js'\nimport { taxRate } from '../../config.js'\nimport { ChevronUpIcon, ChevronDownIcon } from 'vue-feather-icons'\n\nexport default {\n  name: 'AccountPanel',\n  components: {\n    DepositField,\n    WithdrawField,\n    ChevronUpIcon,\n    ChevronDownIcon\n  },\n  data() {\n    return {\n      waitingForAccount: false,\n      shortenAddress: null,\n      folded: false,\n    }\n  },\n  props: [\n    \"account\",\n    \"balance\",\n    \"taxBase\",\n  ],\n\n  computed: {\n    balanceStr() {\n      if (this.balance) {\n        return ethers.utils.formatEther(this.balance) + \" xDai\"\n      } else {\n        return \"Unknown\"\n      }\n    },\n    taxPerMonthStr() {\n      if (this.taxBase) {\n        const taxPerYear = this.taxBase.mul(Math.round(taxRate * 100000)).div(100000)\n        const taxPerDay = taxPerYear.div(12)\n        return ethers.utils.formatEther(taxPerDay) + \" xDai\"\n      } else {\n        return \"Unknown\"\n      }\n    },\n    shortAddress() {\n      return shortenAddress(this.account)\n    },\n  },\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountPanel.vue?vue&type=template&id=066d221e&\"\nimport script from \"./AccountPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"panel is-outlined\",staticStyle:{\"pointer-events\":\"auto\"}},[_c('div',{staticClass:\"panel-heading\"},[_vm._v(\" Create Graffiti \"),(!_vm.folded)?_c('chevron-up-icon',{staticClass:\"is-pulled-right\",attrs:{\"size\":\"1.5x\"},on:{\"click\":function($event){_vm.folded = !_vm.folded}}}):_vm._e(),(_vm.folded)?_c('chevron-down-icon',{staticClass:\"is-pulled-right\",attrs:{\"size\":\"1.5x\"},on:{\"click\":function($event){_vm.folded = !_vm.folded}}}):_vm._e()],1),(!_vm.folded)?_c('div',[(!_vm.selectedPixel)?_c('p',{staticClass:\"panel-block\"},[_vm._v(\"Click on a pixel to select it.\")]):_c('div',[_c('div',{staticClass:\"panel-block\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('th',[_vm._v(\"Coordinates\")]),_c('td',[_vm._v(_vm._s(_vm.selectedPixel[0])+\", \"+_vm._s(_vm.selectedPixel[1]))])]),_c('tr',[_c('th',[_vm._v(\"Pixel ID\")]),_c('td',[_vm._v(_vm._s(_vm.pixelID))])]),_c('tr',[_c('th',[_vm._v(\"Graffitier\")]),_c('td',[_vm._v(_vm._s(_vm.ownerStr))])]),_c('tr',[_c('th',[_vm._v(\"Price\")]),_c('td',[_vm._v(_vm._s(_vm.formatDAI(_vm.price)))])])])])]),_c('div',{staticClass:\"panel-block\"},[_c('button',{staticClass:\"button is-dark is-fullwidth\",attrs:{\"disabled\":!_vm.account || _vm.userIsOwner},on:{\"click\":function($event){_vm.buyModalActive = true}}},[_vm._v(\"Buy\")])])])]):_vm._e(),(_vm.buyModalActive)?_c('BuyModal',{attrs:{\"selectedPixel\":_vm.selectedPixel,\"active\":_vm.buyModalActive,\"pixelID\":_vm.pixelID,\"price\":_vm.price,\"account\":_vm.account,\"balance\":_vm.balance,\"taxBase\":_vm.taxBase},on:{\"close\":function($event){_vm.buyModalActive = false},\"error\":function (msg) { return _vm.$emit('error', msg); }}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal is-fullwidth\",class:{'is-active': _vm.active}},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-card\"},[_c('header',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title\"},[_vm._v(\"Buy Pixel\")]),_c('button',{staticClass:\"delete\",attrs:{\"aria-label\":\"close\"},on:{\"click\":function($event){return _vm.close()}}})]),_c('section',{staticClass:\"modal-card-body\"},[_c('table',{staticClass:\"table is-fullwidth has-text-centered\"},[_vm._m(0),_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.pixelID))]),_c('td',[_vm._v(_vm._s(_vm.selectedPixel[0])+\", \"+_vm._s(_vm.selectedPixel[1]))]),_c('td',[_vm._v(_vm._s(_vm.formatDAI(_vm.price)))])])])]),_c('form',[_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\"},[_vm._v(\" New Color \")]),_c('div',{staticClass:\"control\"},[_c('v-swatches',{attrs:{\"swatches\":_vm.swatches,\"show-border\":\"\"},model:{value:(_vm.colorSwatch),callback:function ($$v) {_vm.colorSwatch=$$v},expression:\"colorSwatch\"}})],1)]),_c('div',{staticClass:\"field columns\"},[_c('div',{staticClass:\"column\"},[_c('label',{staticClass:\"label\"},[_vm._v(\" New Price (xDai) \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newPriceInput),expression:\"newPriceInput\"}],staticClass:\"input is-expanded\",class:{\n                  'is-danger': _vm.newPriceInput && _vm.newPriceInvalid,\n                },attrs:{\"type\":\"text\",\"placeholder\":\"xDai\"},domProps:{\"value\":(_vm.newPriceInput)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newPriceInput=$event.target.value}}})]),_c('div',{staticClass:\"column\"},[_c('label',{staticClass:\"label\"},[_vm._v(\" Added Monthly Tax \")]),_c('p',[_vm._v(_vm._s(_vm.formatDAI(_vm.addedTax)))])])]),(_vm.totalTax !== null && !_vm.newPriceInvalid && _vm.newPrice.gt(0))?_c('div',{staticClass:\"field has-text-success\"},[_vm._v(\" Your monthly tax will increase to \"+_vm._s(_vm.formatDAI(_vm.totalTax))+\". \")]):_vm._e(),(_vm.totalTax !== null && !_vm.newPriceInvalid && _vm.newPrice.eq(0))?_c('div',{staticClass:\"field has-text-success\"},[_vm._v(\" Your monthly tax will remain unchanged at \"+_vm._s(_vm.formatDAI(_vm.totalTax))+\". \")]):_vm._e(),_c('div',{staticClass:\"field columns\"},[_c('div',{staticClass:\"column\"},[_c('label',{staticClass:\"label\"},[_vm._v(\" Amount to Deposit (xDai) \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.depositInput),expression:\"depositInput\"}],staticClass:\"input is-expanded\",class:{\n                  'is-danger': _vm.depositInput && _vm.depositInvalid,\n                },attrs:{\"type\":\"text\",\"placeholder\":\"xDai\"},domProps:{\"value\":(_vm.depositInput)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.depositInput=$event.target.value}}})]),_c('div',{staticClass:\"column\"},[_c('label',{staticClass:\"label\"},[_vm._v(\" Current balance \")]),_c('p',[_vm._v(_vm._s(_vm.formatDAI(_vm.balance)))])])]),_c('div',{staticClass:\"field\"},[((_vm.newPriceInput != '' && _vm.newPriceInvalid) || (_vm.depositInput != '' && _vm.depositInvalid))?_c('p',{staticClass:\"has-text-danger\"},[_vm._v(\" Some of your inputs are invalid. Please make sure the new price and the deposit amount are properly formatted, are not negative, and are not too fractional. \")]):_vm._e(),(!_vm.inputsInvalid && _vm.totalDepositCoversCost && _vm.totalDepositSufficient)?_c('p',{staticClass:\"has-text-success\"},[_vm._v(\" The cost of the pixel will be transferred from your deposit to the seller. After the transaction is complete, your balance will be \"+_vm._s(_vm.formatDAI(_vm.balanceAfterPayment))+\" which would \"+_vm._s(!_vm.noTaxesPaid ? \"cover the Harberger taxes for the next \" + _vm.taxMonths + \" months.\" : \"last forever as you don't pay any taxes at the moment\")+\" \")]):_vm._e(),(!_vm.inputsInvalid && !_vm.totalDepositCoversCost)?_c('p',{staticClass:\"has-text-danger\"},[_vm._v(\" Your current balance is insufficient to pay for the pixel. Please increase the deposit amount by at least \"+_vm._s(_vm.formatDAI(_vm.balanceAfterPayment.mul(-1)))+\". \")]):_vm._e(),(!_vm.inputsInvalid && _vm.totalDepositCoversCost && !_vm.totalDepositSufficient && !_vm.noTaxesPaid)?_c('p',{staticClass:\"has-text-warning\"},[_vm._v(\" Your current deposit is sufficient to pay for the pixel, but not much will be left to pay for Harberger taxes. If you don't increase your deposit, you risk losing all your pixels in the near future. It is recommended to increase the deposit amount by \"+_vm._s(_vm.formatDAI(_vm.balanceAfterPayment.sub(_vm.totalTax.mul(_vm.recommendedMonths)).mul(-1)))+\" or more to be on the safe side. \")]):_vm._e()])])]),_c('footer',{staticClass:\"modal-card-foot\"},[_c('button',{staticClass:\"button is-dark\",class:{'is-loading': _vm.waitingForTx},attrs:{\"disabled\":_vm.newPriceInvalid || _vm.depositInvalid || !_vm.totalDepositCoversCost},on:{\"click\":function($event){return _vm.buy()}}},[_vm._v(\"Buy\")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.close()}}},[_vm._v(\"Cancel\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',[_vm._v(\"Pixel ID\")]),_c('th',[_vm._v(\"Coordinates\")]),_c('th',[_vm._v(\"Price\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal is-fullwidth\" v-bind:class=\"{'is-active': active}\">\n    <div class=\"modal-background\"></div>\n      <div class=\"modal-card\">\n        <header class=\"modal-card-head\">\n          <p class=\"modal-card-title\">Buy Pixel</p>\n          <button class=\"delete\" aria-label=\"close\" v-on:click=\"close()\"></button>\n        </header>\n\n        <section class=\"modal-card-body\">\n          <table class=\"table is-fullwidth has-text-centered\">\n            <thead>\n              <th>Pixel ID</th>\n              <th>Coordinates</th>\n              <th>Price</th>\n            </thead>\n            <tbody>\n              <tr>\n                <td>{{ pixelID }}</td>\n                <td>{{ selectedPixel[0] }}, {{ selectedPixel[1] }}</td>\n                <td>{{ formatDAI(price) }}</td>\n              </tr>\n            </tbody>\n          </table>\n\n          <form>\n            <div class=\"field\">\n              <label class=\"label\">\n                New Color\n              </label>\n              <div class=\"control\">\n                <v-swatches \n                  v-model=\"colorSwatch\" \n                  :swatches=\"swatches\"\n                  show-border\n                ></v-swatches>\n              </div>\n            </div>\n\n            <div class=\"field columns\">\n              <div class=\"column\">\n                <label class=\"label\">\n                  New Price (xDai)\n                </label>\n                <input\n                  class=\"input is-expanded\"\n                  v-bind:class=\"{\n                    'is-danger': newPriceInput && newPriceInvalid,\n                  }\"\n                  type=\"text\"\n                  placeholder=\"xDai\"\n                  v-model=\"newPriceInput\"\n                >\n              </div>\n              <div class=\"column\">\n                <label class=\"label\">\n                  Added Monthly Tax\n                </label>\n                <p>{{ formatDAI(addedTax) }}</p>\n              </div>\n            </div>\n\n            <div v-if=\"totalTax !== null && !newPriceInvalid && newPrice.gt(0)\" class=\"field has-text-success\">\n              Your monthly tax will increase to {{ formatDAI(totalTax) }}.\n            </div>\n            <div v-if=\"totalTax !== null && !newPriceInvalid && newPrice.eq(0)\" class=\"field has-text-success\">\n              Your monthly tax will remain unchanged at {{ formatDAI(totalTax) }}.\n            </div>\n\n            <div class=\"field columns\">\n              <div class=\"column\">\n                <label class=\"label\">\n                  Amount to Deposit (xDai)\n                </label>\n                <input\n                  class=\"input is-expanded\"\n                  v-bind:class=\"{\n                    'is-danger': depositInput && depositInvalid,\n                  }\"\n                  type=\"text\"\n                  placeholder=\"xDai\"\n                  v-model=\"depositInput\"\n                >\n              </div>\n              <div class=\"column\">\n                <label class=\"label\">\n                  Current balance\n                </label>\n                <p>{{ formatDAI(balance) }}</p>\n              </div>\n            </div>\n\n            <div class=\"field\">\n              <p\n                v-if=\"(newPriceInput != '' && newPriceInvalid) || (depositInput != '' && depositInvalid)\"\n                class=\"has-text-danger\"\n              >\n                Some of your inputs are invalid. Please make sure the new price and the deposit\n                amount are properly formatted, are not negative, and are not too fractional.\n              </p>\n              <p\n                v-if=\"!inputsInvalid && totalDepositCoversCost && totalDepositSufficient\"\n                class=\"has-text-success\"\n              >\n                The cost of the pixel will be transferred from your deposit to the seller.\n                After the transaction is complete, your balance will be\n                {{ formatDAI(balanceAfterPayment) }} which would\n                {{ !noTaxesPaid\n                  ? \"cover the Harberger taxes for the next \" + taxMonths + \" months.\"\n                  : \"last forever as you don't pay any taxes at the moment\"\n                }}\n              </p>\n              <p\n                v-if=\"!inputsInvalid && !totalDepositCoversCost\"\n                class=\"has-text-danger\"\n              >\n                Your current balance is insufficient to pay for the pixel. Please increase the\n                deposit amount by at least {{ formatDAI(balanceAfterPayment.mul(-1)) }}.\n              </p>\n              <p\n                v-if=\"!inputsInvalid && totalDepositCoversCost && !totalDepositSufficient && !noTaxesPaid\"\n                class=\"has-text-warning\"\n              >\n                Your current deposit is sufficient to pay for the pixel, but not much will be left\n                to pay for Harberger taxes. If you don't increase your deposit, you risk losing all\n                your pixels in the near future. It is recommended to increase the deposit amount by\n                {{ formatDAI(balanceAfterPayment.sub(totalTax.mul(recommendedMonths)).mul(-1)) }} or\n                more to be on the safe side.\n              </p>\n            </div>\n          </form>\n        </section>\n\n        <footer class=\"modal-card-foot\">\n          <button\n            class=\"button is-dark\"\n            v-bind:class=\"{'is-loading': waitingForTx}\"\n            v-bind:disabled=\"newPriceInvalid || depositInvalid || !totalDepositCoversCost\"\n            v-on:click=\"buy()\"\n          >Buy</button>\n          <button class=\"button\" v-on:click=\"close()\">Cancel</button>\n        </footer>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ethers } from 'ethers'\nimport { weiToGWei, weiToEth, colorsHex, colorHexIndices, computeMonthlyTax } from '../utils.js'\nimport VSwatches from 'vue-swatches'\n\nexport default {\n  name: \"BuyModal\",\n  components: { VSwatches },\n  props: [\n    \"active\",\n    \"price\",\n    \"pixelID\",\n    \"account\",\n    \"balance\",\n    \"taxBase\",\n    \"selectedPixel\"\n  ],\n  data() {\n    let newPriceInput = \"\"\n    if (this.price) {\n      weiToEth(this.price).toString()\n    }\n    return {\n      newPriceInput: newPriceInput,\n      depositInput: \"0\",\n      waitingForTx: false,\n      colorSwatch: '#ffffff',\n      swatches: colorsHex,\n      recommendedMonths: 3,\n      formatDAI(value) {\n        if (!value) {\n          return \"Unknown\"\n        }\n        return ethers.utils.formatEther(value) + ' xDai'\n      },\n    }\n  },\n  computed: {\n    newPrice() {\n      try {\n        return ethers.utils.parseEther(this.newPriceInput)\n      } catch(err) {\n        return null\n      }\n    },\n    newPriceInvalid() {\n      return this.newPrice === null || this.newPrice.lt(0) || this.newPrice.mod(1e9) != 0\n    },\n    deposit() {\n      try {\n        return ethers.utils.parseEther(this.depositInput)\n      } catch(err) {\n        return null\n      }\n    },\n    depositInvalid() {\n      return this.deposit === null || this.deposit.lt(0) || this.deposit.mod(1e9) != 0\n    },\n    inputsInvalid() {\n      return this.newPriceInvalid || this.depositInvalid\n    },\n    color() {\n      return colorHexIndices[this.colorSwatch]\n    },\n    addedTax() {\n      if (this.newPriceInvalid) {\n        return null\n      }\n      return computeMonthlyTax(this.newPrice)\n    },\n    totalTax() {\n      if (!this.taxBase) {\n        return null\n      }\n      if (!this.addedTax) {\n        return computeMonthlyTax(this.taxBase)\n      }\n      const taxBase = this.taxBase.add(this.newPrice)\n      return computeMonthlyTax(taxBase)\n    },\n    balanceAfterDeposit() {\n      if (!this.balance || !this.deposit) {\n        return null\n      }\n      return this.balance.add(this.deposit)\n    },\n    balanceAfterPayment() {\n      if (!this.balanceAfterDeposit || !this.price) {\n        return null\n      }\n      return this.balanceAfterDeposit.sub(this.price)\n    },\n    noTaxesPaid() {\n      if (this.newPriceInvalid || this.taxBase === null) {\n        return null\n      }\n      const taxBase = this.taxBase.add(this.newPrice)\n      return taxBase.eq(0)\n    },\n    taxMonths() {\n      if (!this.balanceAfterPayment || !this.totalTax || this.newPriceInvalid || this.noTaxesPaid) {\n        return null\n      }\n      const taxBase = this.taxBase.add(this.newPrice)\n      const taxPerMonth = computeMonthlyTax(taxBase)\n      return this.balanceAfterPayment.div(taxPerMonth)\n    },\n    totalDepositCoversCost() {\n      if (this.balanceAfterPayment === null) {\n        return null\n      }\n      return this.balanceAfterPayment.gte(0)\n    },\n    totalDepositSufficient() {\n      if (this.noTaxesPaid) {\n        return true\n      }\n      if (this.taxMonths === null) {\n        return null\n      }\n      return this.totalDepositCoversCost && this.taxMonths.gte(this.recommendedMonths)\n    },\n  },\n  watch: {\n    price: {\n      handler() {\n        this.newPriceInput = ethers.utils.formatEther(this.price)\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    close() {\n      this.$emit('close')\n    },\n    async buy() {\n      this.waitingForTx = true\n      try {\n        let signer = this.$provider.getSigner(this.account)\n        let contract = this.$contract.connect(signer)\n        await contract.depositAndBuy(\n          this.pixelID,\n          weiToGWei(this.price),\n          weiToGWei(this.newPrice),\n          this.color,\n          {value: this.deposit,\n        }\n        )\n        this.newPriceInput = \"\"\n      } catch(err) {\n        this.$emit('error', 'Failed to send buy transaction: ' + err.message)\n      }\n      this.waitingForTx = false\n      this.$emit('close')\n    },\n  },\n}\n</script>\n\n<style>\n.vue-swatches__trigger {\n  box-shadow: inset 0 0 2px rgba(0,0,0,.75);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuyModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuyModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuyModal.vue?vue&type=template&id=0cd7244c&\"\nimport script from \"./BuyModal.vue?vue&type=script&lang=js&\"\nexport * from \"./BuyModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BuyModal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <article class=\"panel is-outlined\" style=\"pointer-events: auto\">\n    <div class=\"panel-heading\">\n      Create Graffiti\n      <chevron-up-icon size=\"1.5x\" class=\"is-pulled-right\" v-if=\"!folded\" v-on:click=\"folded = !folded\"></chevron-up-icon>\n      <chevron-down-icon size=\"1.5x\" class=\"is-pulled-right\" v-if=\"folded\" v-on:click=\"folded = !folded\"></chevron-down-icon>\n    </div>\n    <div v-if=\"!folded\">\n      <p v-if=\"!selectedPixel\" class=\"panel-block\">Click on a pixel to select it.</p>\n      <div v-else>\n        <div class=\"panel-block\">\n          <table class=\"table is-fullwidth\">\n            <tbody>\n              <tr>\n                <th>Coordinates</th>\n                <td>{{ selectedPixel[0] }}, {{ selectedPixel[1] }}</td>\n              </tr>\n\n              <tr>\n                <th>Pixel ID</th>\n                <td>{{ pixelID }}</td>\n              </tr>\n\n              <tr>\n                <th>Graffitier</th>\n                <td>{{ ownerStr }}</td>\n              </tr>\n\n              <tr>\n                <th>Price</th>\n                <td>{{ formatDAI(price) }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n          <div class=\"panel-block\">\n            <button\n              class=\"button is-dark is-fullwidth\"\n              v-on:click=\"buyModalActive = true\"\n              v-bind:disabled=\"!account || userIsOwner\"\n            >Buy</button>\n          </div>\n      </div>\n    </div>\n  <BuyModal\n    v-if=\"buyModalActive\"\n    v-bind:selectedPixel=\"selectedPixel\"\n    v-bind:active=\"buyModalActive\"\n    v-bind:pixelID=\"pixelID\"\n    v-bind:price=\"price\"\n    v-bind:account=\"account\"\n    v-bind:balance=\"balance\"\n    v-bind:taxBase=\"taxBase\"\n    v-on:close=\"buyModalActive = false\"\n    v-on:error=\"(msg) => $emit('error', msg)\"\n  />\n  </article>\n\n</template>\n\n<script>\nimport { ethers } from 'ethers'\nimport { pixelCoordsToID, gWeiToWei, shortenAddress } from '../utils.js'\nimport BuyModal from './BuyModal.vue'\nimport { gridSize } from '../config.js'\nimport { ChevronUpIcon, ChevronDownIcon } from 'vue-feather-icons'\n\nexport default {\n  name: \"PixelPanel\",\n  props: [\n    \"selectedPixel\",\n    \"account\",\n    \"balance\",\n    \"taxBase\",\n  ],\n  components: {\n    BuyModal,\n    ChevronUpIcon,\n    ChevronDownIcon\n  },\n\n  data() {\n    return {\n      owner: null,\n      price: null,\n      exists: null,\n      buyModalActive: false,\n      folded: false,\n      formatDAI(value) {\n        if (!value) {\n          return \"Unknown\"\n        }\n        return ethers.utils.formatEther(value) + ' xDai'\n      },\n    }\n  },\n\n  computed: {\n    pixelID() {\n      return pixelCoordsToID(this.selectedPixel, gridSize[0])\n    },\n    ownerStr() {\n      if (this.exists === null) {\n        return \"Unknown\"\n      }\n      if (!this.exists) {\n        return \"None\"\n      }\n      if (this.owner === null) {\n        return \"Unknown\"\n      }\n      if (this.owner == this.account) {\n        return \"You\"\n      }\n      return shortenAddress(this.owner)\n    },\n    userIsOwner() {\n      return this.owner !== null && this.account == this.owner\n    },\n  },\n\n  watch: {\n    async selectedPixel() {\n      if (this.selectedPixel) {\n        try {\n          let priceGWei = await this.$contract.getPrice(this.pixelID)\n          this.price = gWeiToWei(priceGWei)\n          this.exists = await this.$contract.exists(this.pixelID)\n          if (this.exists) {\n            this.owner = await this.$contract.ownerOf(this.pixelID)\n          } else {\n            this.owner = null\n          }\n        } catch(err) {\n          this.exists = null\n          this.price = null\n          this.owner = null\n          this.$emit('error', 'Failed to query pixel details: ' + err.message)\n        }\n      } else {\n        this.exists = null\n        this.price = null\n        this.owner = null\n      }\n    },\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PixelPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PixelPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PixelPanel.vue?vue&type=template&id=040413ef&\"\nimport script from \"./PixelPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./PixelPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"panel is-outlined\",staticStyle:{\"pointer-events\":\"auto\"}},[_c('p',{staticClass:\"panel-heading\"},[_vm._v(\" Your Pixels \"),(!_vm.folded)?_c('chevron-up-icon',{staticClass:\"is-pulled-right\",attrs:{\"size\":\"1.5x\"},on:{\"click\":function($event){_vm.folded = !_vm.folded}}}):_vm._e(),(_vm.folded)?_c('chevron-down-icon',{staticClass:\"is-pulled-right\",attrs:{\"size\":\"1.5x\"},on:{\"click\":function($event){_vm.folded = !_vm.folded}}}):_vm._e()],1),(!_vm.folded)?_c('div',[(!_vm.pixels.length)?_c('div',{staticClass:\"panel-block\"},[_c('p',[_vm._v(\"You don't seem to own any pixels.\")])]):_c('div',{staticClass:\"panel-block\"},[_c('div',{staticClass:\"select is-fullwidth\"},[_c('select',{on:{\"change\":_vm.onChange}},_vm._l((_vm.pixels),function(pixel){return _c('option',{key:pixel.id,domProps:{\"value\":pixel.id,\"selected\":_vm.selectedPixel && pixel.id == _vm.selectedPixel.id}},[_vm._v(\" \"+_vm._s(_vm.hexToIntStr(pixel.id))+\" \")])}),0)])]),(_vm.selectedPixel)?_c('div',{staticClass:\"panel-block\"},[_c('table',{staticClass:\"table is-fullwidth\"},[_c('tbody',[_c('tr',[_c('th',[_vm._v(\"Coordinates\")]),_c('td',[_vm._v(_vm._s(_vm.coords[0])+\", \"+_vm._s(_vm.coords[1]))])]),_c('tr',[_c('th',[_vm._v(\"Price\")]),_c('td',[_vm._v(_vm._s(_vm.priceStr))])]),_c('tr',[_c('th',[_vm._v(\"Color\")]),_c('td',[_c('v-swatches',{attrs:{\"swatches\":_vm.swatches,\"show-border\":\"\",\"disabled\":\"\"},model:{value:(_vm.swatches[_vm.selectedPixel.color.toString()]),callback:function ($$v) {_vm.$set(_vm.swatches, _vm.selectedPixel.color.toString(), $$v)},expression:\"swatches[selectedPixel.color.toString()]\"}})],1)])])])]):_vm._e(),(_vm.selectedPixel)?_c('div',{staticClass:\"panel-block\"},[_c('form',[_c('ChangeColorField',{attrs:{\"account\":_vm.account,\"pixelID\":_vm.selectedPixel.id,\"currentColor\":_vm.selectedPixel.color},on:{\"error\":function (msg) { return _vm.$emit('error', msg); }}}),_c('ChangePriceField',{attrs:{\"account\":_vm.account,\"pixelID\":_vm.selectedPixel.id},on:{\"error\":function (msg) { return _vm.$emit('error', msg); }}})],1)]):_vm._e()]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field has-addons\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.priceInput),expression:\"priceInput\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"xDai\"},domProps:{\"value\":(_vm.priceInput)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.priceInput=$event.target.value}}}),(_vm.priceInput && _vm.priceInvalid)?_c('p',{staticClass:\"help is-danger\"},[_vm._v(\"Invalid price\")]):_vm._e()]),_c('div',{staticClass:\"control\"},[_c('a',{staticClass:\"button is-dark\",class:{'is-loading': _vm.waitingForTx},attrs:{\"disabled\":_vm.priceInvalid},on:{\"click\":_vm.changePrice}},[_vm._v(\" Change Price \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"field has-addons\">\n    <div class=\"control\">\n      <input class=\"input\" type=\"text\" placeholder=\"xDai\" v-model=\"priceInput\">\n    <p v-if=\"priceInput && priceInvalid\" class=\"help is-danger\">Invalid price</p>\n    </div>\n    <div class=\"control\">\n      <a\n        class=\"button is-dark\"\n        v-bind:class=\"{'is-loading': waitingForTx}\"\n        v-bind:disabled=\"priceInvalid\"\n        v-on:click=\"changePrice\"\n      >\n        Change Price\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ethers } from 'ethers'\nimport { weiToGWei } from '../utils'\n\nexport default {\n  name: \"ChangePriceField\",\n  props: [\n    \"account\",\n    \"pixelID\",\n  ],\n\n  data() {\n    return {\n      priceInput: null,\n      waitingForTx: false,\n    }\n  },\n\n  computed: {\n    price() {\n      try {\n        return ethers.utils.parseEther(this.priceInput)\n      } catch(err) {\n        return null\n      }\n    },\n    priceInvalid() {\n      return this.price === null || this.price <= 0 || this.price % 1e9 != 0\n    },\n  },\n\n  methods: {\n    async changePrice() {\n      this.waitingForTx = true\n      try {\n        let signer = this.$provider.getSigner(this.account)\n        let contract = this.$contract.connect(signer)\n        await contract.setPrice(this.pixelID, weiToGWei(this.price))\n        this.priceInput = \"\"\n      } catch(err) {\n        this.$emit('error', 'Failed to send change price transaction: ' + err.message)\n      }\n      this.waitingForTx = false\n    },\n  },\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePrice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePrice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangePrice.vue?vue&type=template&id=aae99e1a&\"\nimport script from \"./ChangePrice.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangePrice.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field is-grouped is-grouped-centered\"},[_c('div',{staticClass:\"control is-expanded\"},[_c('div',{staticClass:\"columns is-centered\"},[_c('div',{staticClass:\"column is-narrow\"},[_c('v-swatches',{attrs:{\"swatches\":_vm.swatches,\"show-border\":\"\",\"popover-y\":\"top\"},model:{value:(_vm.colorHex),callback:function ($$v) {_vm.colorHex=$$v},expression:\"colorHex\"}})],1)])]),_c('div',{staticClass:\"control\"},[_c('a',{staticClass:\"button is-dark\",class:{'is-loading': _vm.waitingForTx},attrs:{\"disabled\":!_vm.colorChanged},on:{\"click\":_vm.changeColor}},[_vm._v(\" Change Color \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"field is-grouped is-grouped-centered\">\n    <div class=\"control is-expanded\">\n      <div class=\"columns is-centered\">\n        <div class=\"column is-narrow\">\n          <v-swatches \n            v-model=\"colorHex\" \n            :swatches=\"swatches\"\n            show-border\n            popover-y=\"top\"\n          ></v-swatches>\n        </div>\n      </div>\n    </div>\n    <div class=\"control\">\n      <a\n        class=\"button is-dark\"\n        v-bind:class=\"{'is-loading': waitingForTx}\"\n        v-on:click=\"changeColor\"\n        v-bind:disabled=\"!colorChanged\"\n      >\n        Change Color\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport VSwatches from 'vue-swatches'\nimport { colorHexIndices, colorsHex } from '../utils'\n\nexport default {\n  name: \"ChangeColorField\",\n  components: {\n    VSwatches,\n  },\n\n  props: [\n    \"account\",\n    \"pixelID\",\n    \"currentColor\",\n  ],\n\n  data() {\n    return {\n      waitingForTx: false,\n      colorHex: '#ffffff',\n      swatches: colorsHex,\n    }\n  },\n\n  watch: {\n    currentColor: {\n      handler() {\n        this.colorHex = this.swatches[this.currentColor]\n      },\n      immediate: true,\n    },\n  },\n\n  computed: {\n    colorChanged() {\n      return colorHexIndices[this.colorHex] != this.currentColor\n    },\n  },\n\n  methods: {\n    async changeColor() {\n      this.waitingForTx = true\n      try {\n        let signer = this.$provider.getSigner(this.account)\n        let contract = this.$contract.connect(signer)\n        await contract.setColor(this.pixelID, colorHexIndices[this.colorHex])\n      } catch(err) {\n        this.$emit('error', 'Failed to send change color transaction: ' + err.message)\n      }\n      this.waitingForTx = false\n    },\n  },\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeColor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeColor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangeColor.vue?vue&type=template&id=0a441a40&\"\nimport script from \"./ChangeColor.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangeColor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <article class=\"panel is-outlined\" style=\"pointer-events: auto\">\n    <p class=\"panel-heading\">\n      Your Pixels\n      <chevron-up-icon size=\"1.5x\" class=\"is-pulled-right\" v-if=\"!folded\" v-on:click=\"folded = !folded\"></chevron-up-icon>\n      <chevron-down-icon size=\"1.5x\" class=\"is-pulled-right\" v-if=\"folded\" v-on:click=\"folded = !folded\"></chevron-down-icon>\n    </p>\n    <div v-if=\"!folded\">\n      <div v-if=\"!pixels.length\" class=\"panel-block\">\n        <p>You don't seem to own any pixels.</p>\n      </div>\n      <div v-else class=\"panel-block\">\n        <div class=\"select is-fullwidth\">\n          <select v-on:change=\"onChange\">\n            <option\n              v-for=\"pixel in pixels\"\n              v-bind:key=\"pixel.id\"\n              v-bind:value=\"pixel.id\"\n              v-bind:selected=\"selectedPixel && pixel.id == selectedPixel.id\"\n            >\n              {{ hexToIntStr(pixel.id) }}\n            </option>\n          </select>\n        </div>\n      </div>\n      <div class=\"panel-block\" v-if=\"selectedPixel\">\n        <table class=\"table is-fullwidth\">\n          <tbody>\n            <tr>\n              <th>Coordinates</th>\n              <td>{{ coords[0] }}, {{ coords[1] }}</td>\n            </tr>\n\n            <tr>\n              <th>Price</th>\n              <td>{{ priceStr }}</td>\n            </tr>\n\n            <tr>\n              <th>Color</th>\n              <td>\n                <v-swatches\n                  v-model=\"swatches[selectedPixel.color.toString()]\"\n                  :swatches=\"swatches\"\n                  show-border\n                  disabled\n                ></v-swatches>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <div class=\"panel-block\" v-if=\"selectedPixel\">\n        <form>\n          <ChangeColorField\n            v-bind:account=\"account\"\n            v-bind:pixelID=\"selectedPixel.id\"\n            v-bind:currentColor=\"selectedPixel.color\"\n            v-on:error=\"(msg) => $emit('error', msg)\"\n          />\n          <ChangePriceField\n            v-bind:account=account\n            v-bind:pixelID=\"selectedPixel.id\"\n            v-on:error=\"(msg) => $emit('error', msg)\"\n          />\n        </form>\n      </div>\n    </div>\n  </article>\n</template>\n\n<script>\nimport { ethers } from 'ethers'\nimport gql from 'graphql-tag'\nimport { gWeiToWei, idToPixelCoords, colorsHex } from '../utils'\nimport { gridSize } from '../config'\nimport ChangePriceField from './ChangePrice.vue'\nimport ChangeColorField from './ChangeColor.vue'\nimport VSwatches from 'vue-swatches'\nimport { ChevronUpIcon, ChevronDownIcon } from 'vue-feather-icons'\n\n\nconst pixelQuery = gql`\n  query pixelsOf($address: Bytes, $lastID: String) {\n    pixels(first:100, where:{ owner:$address, id_gt: $lastID }) {\n      id\n      price\n      color\n    }\n  }\n`\n\nexport default {\n  name: \"OwnedPixelPanel\",\n  components: {\n    ChangePriceField,\n    ChangeColorField,\n    VSwatches,\n    ChevronUpIcon,\n    ChevronDownIcon\n  },\n  props: [\n    \"account\",\n  ],\n  data() {\n    return {\n      pixels: [],\n      selectedPixel: null,\n      folded: false,\n      swatches: colorsHex,\n    }\n  },\n\n  watch: {\n    account: {\n      handler: function(newAddress, oldAddress) {\n        if (newAddress == oldAddress) {\n          return\n        }\n        if (newAddress === null) {\n          this.pixels = []\n          this.selectedPixel = null\n          return\n        }\n        this.queryPixels()\n      },\n      immediate: true,\n    },\n  },\n\n  computed: {\n    price() {\n      if (!this.selectedPixel) {\n        return null\n      }\n      return gWeiToWei(ethers.BigNumber.from(this.selectedPixel.price))\n    },\n    priceStr() {\n      if (!this.selectedPixel) {\n        return \"\"\n      }\n      return ethers.utils.formatEther(this.price) + \" xDai\"\n    },\n    coords() {\n      if (!this.selectedPixel) {\n        return [-1, -1]\n      }\n      const idBig = ethers.BigNumber.from(this.selectedPixel.id)\n      return idToPixelCoords(idBig, gridSize[0])\n    }\n  },\n\n  methods: {\n    async queryPixels() {\n      this.pixels = []\n      this.selectedPixel = null\n      let lastID = \"\"\n      for (;;) {\n        try {\n          let queryResult = await this.$apolloClient.query({\n            query: pixelQuery,\n            variables: {\n              address: this.account,\n              lastID: lastID,\n            }\n          })\n          let pixels = queryResult.data.pixels\n          if (pixels.length == 0) {\n            if (this.pixels.length > 0) {\n              this.selectedPixel = this.pixels[0]\n            }\n            return\n          }\n          this.pixels.push(...pixels)\n          lastID = pixels[pixels.length - 1].id\n        } catch (error) {\n          this.pixels = []\n          this.$emit('error', 'Failed to query pixel list: ' + error.message)\n          return\n        }\n      }\n    },\n\n    onChange(event) {\n      const id = event.target.value\n      for (let pixel of this.pixels) {\n        if (pixel.id == id) {\n          this.selectedPixel = pixel\n          return\n        }\n      }\n    },\n\n    hexToIntStr(n) {\n      return ethers.BigNumber.from(n).toString()\n    },\n  },\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OwnedPixelPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OwnedPixelPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OwnedPixelPanel.vue?vue&type=template&id=17973220&\"\nimport script from \"./OwnedPixelPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./OwnedPixelPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal\",class:{'is-active': _vm.active}},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-card info\"},[_c('header',{staticClass:\"modal-card-head\"},[_c('button',{staticClass:\"delete is-pulled-right\",attrs:{\"aria-label\":\"close\"},on:{\"click\":function($event){return _vm.close()}}})]),_c('section',{staticClass:\"modal-card-body\"},[_vm._m(0),_c('div',{staticClass:\"tabs is-centered is-small\"},[_c('ul',[_c('li',{class:{'is-active': _vm.selectedTab==0},on:{\"click\":function($event){_vm.selectedTab=0}}},[_vm._m(1)]),_c('li',{class:{'is-active': _vm.selectedTab==1},on:{\"click\":function($event){_vm.selectedTab=1}}},[_vm._m(2)])])]),(_vm.selectedTab==0)?_c('div',[_vm._m(3),_vm._m(4),_vm._m(5),_vm._m(6),_vm._m(7),_vm._m(8),_vm._m(9),_vm._m(10),_vm._m(11)]):_vm._e(),(_vm.selectedTab==1)?_c('div',[_vm._m(12),_vm._m(13),_vm._m(14),_vm._m(15)]):_vm._e()])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"img\"},[_c('img',{attrs:{\"src\":require(\"../assets/logoRainbow.svg\"),\"width\":\"387px\",\"alt\":\"GraffitETH\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',[_c('strong',[_vm._v(\"About\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',[_c('strong',[_vm._v(\"How-to\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"label\"},[_vm._v(\" What it is \")]),_c('p',[_vm._v(\" GraffitETH is the Ethereum graffiti wall. Itâ€™s an experiment in market socialism, a collaborative artwork, and a window into Ethereum for the world. Created by \"),_c('a',{attrs:{\"href\":\"http://marianono.superhi.com/\"}},[_vm._v(\"Maria Nogueira\")]),_vm._v(\", \"),_c('a',{attrs:{\"href\":\"https://github.com/jannikluhn\"}},[_vm._v(\"Jannik Luhn\")]),_vm._v(\", and \"),_c('a',{attrs:{\"href\":\"https://twitter.com/aleezagroks\"}},[_vm._v(\"Aleeza Howitt\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"label\"},[_vm._v(\" How it works \")]),_c('p',[_vm._v(\" GraffitETH is a digital graffiti wall in which pixels are NFTs (non-fungible tokens, a type of digital property) subject to the Harberger tax. What that means: You can paint a pixel by buying the NFT, but anyone else can buy it from you immediately and paint over it. To prevent other people from painting over your pixel, you must set a high price... But you canâ€™t set it too high, since you will have to pay pixel taxes on it! \")]),_c('p',[_vm._v(\" Anyone can participate and paint the wall. To get started, youâ€™ll need to set up a web3 Ethereum wallet (for managing your crypto assets and interacting with the GraffitETH smart contract) and load it with xDAI (the cryptocurrency used for buying and paying taxes on the pixels, and for paying transaction fees on the xDai blockchain). Check out the User Guide for details. \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"label\"},[_vm._v(\" What do you do with the money? \")]),_c('p',[_vm._v(\" A \"),_c('a',{attrs:{\"href\":\"https://www.dd.ie/2016/04/the-decentralized-autonomous.html\"}},[_vm._v(\"DAO (Decentralized Autonomous Organization)\")]),_vm._v(\" will use the money raised through pixel taxes to display the evolving artwork over time (on billboards, online ads, etc.). Perhaps someday your pixels will appear on a billboard in Times Square, ETHDenver t-shirts, or even a flag on the moon... \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"label\"},[_vm._v(\" Why the Harberger tax? \")]),_c('p',[_vm._v(\" The Harberger tax is a market tool theorized to encourage fair property prices, and thus ensure that everyone pays an appropriate amount of taxes. You could consider it a compromise between public and private property ownership. Itâ€™s not a new idea, but it has never been put into practice on a large scale. \")]),_c('p',[_vm._v(\" Using the Harberger tax in this project should show us the fair price of space on the graffiti wall, pixel by pixel. Watching the wall evolve will help us better understand how people interact with property (like pixel NFTs) under these unusual market conditions. \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"label\"},[_vm._v(\" Why are pixel taxes 1% per month? \")]),_c('p',[_vm._v(\" The Common Ownership Self-Assessed Tax (COST) plan as described in the book \"),_c('a',{attrs:{\"href\":\"https://assets.press.princeton.edu/chapters/s11222.pdf\"}},[_vm._v(\"Radical Markets by E. Glen Weyl and Eric A. Posner\")]),_vm._v(\" suggests a tax rate of 7% per year: â€œBecause tax rates would, ideally, be adapted to assets based on turnover rates, some assets unlikely to turn over often (family heirlooms and photographs, diaries) would be taxed at very low rates, while others (such as trendy gadgets) would be taxed at high rates. When tax rates are very low, the possessor can prevent others from taking an item by paying a small tax. For typical assets, we estimate that turnover once every fourteen years is reasonable and thus (combined with other factors below) a 7% tax annually is a good target.â€ (p. 64-65) \")]),_c('p',[_vm._v(\" We rounded up to 12% per year (1% per month) because we think pixels are trendy gadgets that should have a higher turnover... And also because the math is easier. \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"label\"},[_vm._v(\" Why blockchain? \")]),_c('p',[_vm._v(\" Ethereum is an excellent environment to test innovative market tools like the Harberger tax, that would otherwise disappear under logistical roadblocks or political inertia. With Ethereum, property can be cheaply and securely transferred from person to person, taxes can be paid automatically, and the funds that are raised can be managed in a transparent, secure, and democratic way. \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"label\"},[_vm._v(\" Why xDai? \")]),_c('p',[_vm._v(\" GraffitETH is an open-source project deployed on xDai, an Ethereum sidechain. We chose to use xDai because it is cheaper and faster than the Ethereum mainchain, but it is still compatible with other essential integrations like The Graph. In addition, xDai transaction fees are denominated in a â€œstablecoinâ€ pegged to the US Dollar, making it simpler to interact with. \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"label\"},[_vm._v(\" Nerdy stuff \")]),_c('p',[_vm._v(\" Contract address: \"),_c('a',{attrs:{\"href\":\"https://blockscout.com/poa/xdai/address/0xc56F6037596116875ABEa6845f60dA88088F06Ea/transactions\"}},[_vm._v(\"0xc56F6037596116875ABEa6845f60dA88088F06Ea\\\"\")])]),_c('p',[_vm._v(\" Source code: \"),_c('a',{attrs:{\"href\":\"https://github.com/jannikluhn/graffiti\"}},[_vm._v(\"https://github.com/jannikluhn/graffiti\")])]),_c('p',[_vm._v(\" Subgraph: \"),_c('a',{attrs:{\"href\":\"https://thegraph.com/explorer/subgraph/jannikluhn/graffiteth\"}},[_vm._v(\"GraffitETH\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"label\"},[_vm._v(\" Acknowledgements \")]),_c('p',[_vm._v(\" GraffitETH was created as part of the ETHDenver Buildathon. Inspiration for the concept of a digital graffiti wall can be traced back to \"),_c('a',{attrs:{\"href\":\"https://en.wikipedia.org/wiki/The_Million_Dollar_Homepage\"}},[_vm._v(\"The Million Dollar Homepage\")]),_vm._v(\" in 2005. Another influential project after that was \"),_c('a',{attrs:{\"href\":\"https://en.wikipedia.org/wiki/Place_(Reddit)\"}},[_vm._v(\"Redditâ€™s Place\")]),_vm._v(\" in 2017. More recently was \"),_c('a',{attrs:{\"href\":\"https://satoshis.place/\"}},[_vm._v(\"Satoshiâ€™s Place\")]),_vm._v(\" in 2020, which was set up so pixels could be purchased using Bitcoinâ€™s lightning network. Credit to Simon de la Rouviere for \"),_c('a',{attrs:{\"href\":\"https://medium.com/@simondlr/what-is-harberger-tax-where-does-the-blockchain-fit-in-1329046922c6\"}},[_vm._v(\"mentioning this stuff\")]),_vm._v(\" in an article about Harberger taxes and blockchain a couple years ago that probably planted the seed for this project in our subconscious brains. Thanks also to the RadicalxChange project for providing \"),_c('a',{attrs:{\"href\":\"https://www.radicalxchange.org/concepts/partial-common-ownership/\"}},[_vm._v(\"great resources\")]),_vm._v(\" related to the Harberger tax. \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"label\"},[_vm._v(\" Web3 Setup \")]),_c('ol',[_c('li',[_vm._v(\"Download \"),_c('a',{attrs:{\"href\":\"httols://metamask.io/\"}},[_vm._v(\"Metamask\")]),_vm._v(\" or another web3 wallet.\")]),_c('li',[_vm._v(\"Load your wallet with xDai. You can do this by buying it directly from \"),_c('a',{attrs:{\"href\":\"https://ramp.network/\"}},[_vm._v(\"The Ramp\")]),_vm._v(\". See \"),_c('a',{attrs:{\"href\":\"https://honeyswap.org/xdai-ramp\"}},[_vm._v(\"this article\")]),_vm._v(\" for instructions.\"),_c('br'),_vm._v(\"Advanced: If you have DAI already, you can convert it to xDai with the \"),_c('a',{attrs:{\"href\":\"https://bridge.xdaichain.com/\"}},[_vm._v(\"xDai Bridge\")]),_vm._v(\".\")]),_c('li',[_vm._v(\"Connect Metamask to the xDai network. See \"),_c('a',{attrs:{\"href\":\"https://www.xdaichain.com/for-users/wallets/metamask/metamask-setup\"}},[_vm._v(\"this article\")]),_vm._v(\" for instructions.\")]),_c('li',[_vm._v(\"Click â€œconnect walletâ€ in the Wallet Connection panel. Metamask will ask you to confirm. Congrats, now you can interact with the GraffitETH dapp!\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"label\"},[_vm._v(\" Paint a Pixel \")]),_c('ol',[_c('li',[_vm._v(\"Click on any pixel to select it.\")]),_c('li',[_vm._v(\"There is a panel called \"),_c('strong',[_vm._v(\"Create Graffiti\")]),_vm._v(\". Click \"),_c('strong',[_vm._v(\"Buy\")]),_vm._v(\".\")]),_c('li',[_vm._v(\"Pick a new color to paint your pixel.\")]),_c('li',[_vm._v(\"Set a price for your pixel. You will pay 1% per month on this price for as long as you own it. Remember, anyone can buy it from you at this price and paint over it!\")]),_c('li',[_vm._v(\"Choose how much xDai to add to your deposit. You need to have enough money in your balance to pay for the pixel, as well as to pay pixel taxes on it. If your deposit is already high enough, you donâ€™t have to deposit more. \"),_c('em',[_vm._v(\"If your balance goes to zero, anyone will be able to buy and paint your pixels for free.\")])]),_c('li',[_vm._v(\"Click \"),_c('strong',[_vm._v(\"Buy\")]),_vm._v(\".\")]),_c('li',[_vm._v(\"Metamask will ask you to confirm.\")]),_c('li',[_vm._v(\"Congrats, you have graffitied GraffitETH! ðŸŽ‰ \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"label\"},[_vm._v(\" GraffitETH DAO \")]),_c('ol',[_c('li',[_vm._v(\"The funds raised from pixel taxes will go towards displaying our collaborative artwork in dope places.\")]),_c('li',[_vm._v(\"All pixel taxpayers will be invited to participate in governance of the GraffitETH DAO, to help decide where GraffitETH is displayed.\")]),_c('li',[_vm._v(\"Follow our Twitter account \"),_c('a',{attrs:{\"href\":\"https://twitter.com/@graffiteth\"}},[_vm._v(\"@graffiteth\")]),_vm._v(\" for updates!\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"disclaimer\"},[_vm._v(\" Disclaimer: These contracts are unaudited.\"),_c('br'),_vm._v(\"We think itâ€™s safe, but who the hell knows, so please donâ€™t put your life savings in here. \")])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal\" v-bind:class=\"{'is-active': active}\">\n    <div class=\"modal-background\"></div>\n      <div class=\"modal-card info\">\n        <header class=\"modal-card-head\">\n          <!-- <p class=\"modal-card-title\">About</p> -->\n          <button class=\"delete is-pulled-right\" aria-label=\"close\" v-on:click=\"close()\"></button>\n        </header>\n        <section class=\"modal-card-body\">\n          <div class=\"img\">\n            <img src=\"../assets/logoRainbow.svg\" width=\"387px\" alt=\"GraffitETH\">\n          </div>\n          <div class=\"tabs is-centered is-small\">\n            <ul>\n              <li v-bind:class=\"{'is-active': selectedTab==0}\" v-on:click=\"selectedTab=0\"><a><strong>About</strong></a></li>\n              <li v-bind:class=\"{'is-active': selectedTab==1}\" v-on:click=\"selectedTab=1\"><a><strong>How-to</strong></a></li>\n            </ul>\n          </div>\n          <div v-if=\"selectedTab==0\">\n            <div>\n              <label class=\"label\">\n                What it is\n              </label>\n              <p>\n                 GraffitETH is the Ethereum graffiti wall. Itâ€™s an experiment in market socialism, a collaborative artwork, and a window into Ethereum for the world. Created by <a href=\"http://marianono.superhi.com/\">Maria Nogueira</a>, <a href=\"https://github.com/jannikluhn\">Jannik Luhn</a>, and <a href=\"https://twitter.com/aleezagroks\">Aleeza Howitt</a>\n              </p>\n            </div>\n\n          <div>\n            <label class=\"label\">\n              How it works\n            </label>\n            <p>\n              GraffitETH is a digital graffiti wall in which pixels are NFTs (non-fungible tokens, a type of digital property) subject to the Harberger tax. What that means: You can paint a pixel by buying the NFT, but anyone else can buy it from you immediately and paint over it. To prevent other people from painting over your pixel, you must set a high price... But you canâ€™t set it too high, since you will have to pay pixel taxes on it!\n            </p>\n            <p>\n              Anyone can participate and paint the wall. To get started, youâ€™ll need to set up a web3 Ethereum wallet (for managing your crypto assets and interacting with the GraffitETH smart contract) and load it with xDAI (the cryptocurrency used for buying and paying taxes on the pixels, and for paying transaction fees on the xDai blockchain). Check out the User Guide for details.\n            </p>\n          </div>\n\n          <div>\n            <label class=\"label\">\n              What do you do with the money?\n            </label>\n            <p>\n              A <a href=\"https://www.dd.ie/2016/04/the-decentralized-autonomous.html\">DAO (Decentralized Autonomous Organization)</a> will use the money raised through pixel taxes to display the evolving artwork over time (on billboards, online ads, etc.). Perhaps someday your pixels will appear on a billboard in Times Square, ETHDenver t-shirts, or even a flag on the moon...\n            </p>\n          </div>\n\n          <div>\n            <label class=\"label\">\n              Why the Harberger tax?\n            </label>\n            <p>\n              The Harberger tax is a market tool theorized to encourage fair property prices, and thus ensure that everyone pays an appropriate amount of taxes. You could consider it a compromise between public and private property ownership. Itâ€™s not a new idea, but it has never been put into practice on a large scale.\n            </p>\n            <p>\n              Using the Harberger tax in this project should show us the fair price of space on the graffiti wall, pixel by pixel. Watching the wall evolve will help us better understand how people interact with property (like pixel NFTs) under these unusual market conditions.\n            </p>\n          </div>\n\n          <div>\n            <label class=\"label\">\n              Why are pixel taxes 1% per month?\n            </label>\n            <p>\n              The Common Ownership Self-Assessed Tax (COST) plan as described in the book <a href=\"https://assets.press.princeton.edu/chapters/s11222.pdf\">Radical Markets by E. Glen Weyl and Eric A. Posner</a> suggests a tax rate of 7% per year: â€œBecause tax rates would, ideally, be adapted to assets based on turnover rates, some assets unlikely to turn over often (family heirlooms and photographs, diaries) would be taxed at very low rates, while others (such as trendy gadgets) would be taxed at high rates. When tax rates are very low, the possessor can prevent others from taking an item by paying a small tax. For typical assets, we estimate that turnover once every fourteen years is reasonable and thus (combined with other factors below) a 7% tax annually is a good target.â€ (p. 64-65)\n            </p>\n            <p>\n              We rounded up to 12% per year (1% per month) because we think pixels are trendy gadgets that should have a higher turnover... And also because the math is easier.\n            </p>\n          </div>\n\n          <div>\n            <label class=\"label\">\n             Why blockchain?\n            </label>\n            <p>\n              Ethereum is an excellent environment to test innovative market tools like the Harberger tax, that would otherwise disappear under logistical roadblocks or political inertia. With Ethereum, property can be cheaply and securely transferred from person to person, taxes can be paid automatically, and the funds that are raised can be managed in a transparent, secure, and democratic way.\n            </p>\n          </div>\n\n            <div>\n              <label class=\"label\">\n                Why xDai?\n              </label>\n              <p>\n                GraffitETH is an open-source project deployed on xDai, an Ethereum sidechain. We chose to use xDai because it is cheaper and faster than the Ethereum mainchain, but it is still compatible with other essential integrations like The Graph. In addition, xDai transaction fees are denominated in a â€œstablecoinâ€ pegged to the US Dollar, making it simpler to interact with.\n              </p>\n            </div>\n\n\n          <div>\n            <label class=\"label\">\n              Nerdy stuff\n            </label>\n            <p>\n              Contract address: <a href=\"https://blockscout.com/poa/xdai/address/0xc56F6037596116875ABEa6845f60dA88088F06Ea/transactions\">0xc56F6037596116875ABEa6845f60dA88088F06Ea\"</a>\n            </p>\n            <p>\n              Source code: <a href=\"https://github.com/jannikluhn/graffiti\">https://github.com/jannikluhn/graffiti</a>\n            </p>\n            <p>\n              Subgraph: <a href=\"https://thegraph.com/explorer/subgraph/jannikluhn/graffiteth\">GraffitETH</a>\n            </p>\n          </div>\n\n          <div>\n            <label class=\"label\">\n              Acknowledgements\n            </label>\n            <p>\n              GraffitETH was created as part of the ETHDenver Buildathon. Inspiration for the concept of a digital graffiti wall can be traced back to <a href=\"https://en.wikipedia.org/wiki/The_Million_Dollar_Homepage\">The Million Dollar Homepage</a> in 2005. Another influential project after that was \n              <a href=\"https://en.wikipedia.org/wiki/Place_(Reddit)\">Redditâ€™s Place</a> in 2017. More recently was <a href=\"https://satoshis.place/\">Satoshiâ€™s Place</a> in 2020, which was set up so pixels could be purchased using Bitcoinâ€™s lightning network. Credit to Simon de la Rouviere for <a href=\"https://medium.com/@simondlr/what-is-harberger-tax-where-does-the-blockchain-fit-in-1329046922c6\">mentioning this stuff</a> in an article about Harberger taxes and blockchain a couple years ago that probably planted the seed for this project in our subconscious brains. Thanks also to the RadicalxChange project for providing <a href=\"https://www.radicalxchange.org/concepts/partial-common-ownership/\">great resources</a> related to the Harberger tax.\n            </p>\n          </div>\n            \n          </div>\n          <div v-if=\"selectedTab==1\">\n            <div>\n              <label class=\"label\">\n              Web3 Setup\n              </label>\n              <ol>\n                <li>Download <a href=\"httols://metamask.io/\">Metamask</a> or another web3 wallet.</li>\n                <li>Load your wallet with xDai. You can do this by buying it directly from <a href=\"https://ramp.network/\">The Ramp</a>. See <a href=\"https://honeyswap.org/xdai-ramp\">this article</a> for instructions.<br>Advanced: If you have DAI already, you can convert it to xDai with the <a href=\"https://bridge.xdaichain.com/\">xDai Bridge</a>.</li>\n                <li>Connect Metamask to the xDai network. See <a href=\"https://www.xdaichain.com/for-users/wallets/metamask/metamask-setup\">this article</a> for instructions.</li>\n                <li>Click â€œconnect walletâ€ in the Wallet Connection panel. Metamask will ask you to confirm. Congrats, now you can interact with the GraffitETH dapp!</li>\n              </ol>\n            </div>\n            <div>\n              <label class=\"label\">\n                Paint a Pixel\n              </label>\n              <ol>\n                <li>Click on any pixel to select it.</li>\n                <li>There is a panel called <strong>Create Graffiti</strong>. Click <strong>Buy</strong>.</li>\n                <li>Pick a new color to paint your pixel.</li>\n                <li>Set a price for your pixel. You will pay 1% per month on this price for as long as you own it. Remember, anyone can buy it from you at this price and paint over it!</li>\n                <li>Choose how much xDai to add to your deposit. You need to have enough money in your balance to pay for the pixel, as well as to pay pixel taxes on it. If your deposit is already high enough, you donâ€™t have to deposit more. <em>If your balance goes to zero, anyone will be able to buy and paint your pixels for free.</em></li>\n                <li>Click <strong>Buy</strong>.</li>\n                <li>Metamask will ask you to confirm.</li>\n                <li>Congrats, you have graffitied GraffitETH! ðŸŽ‰ </li>\n              </ol>\n            </div>\n            <div>\n              <label class=\"label\">\n                GraffitETH DAO\n              </label>\n              <ol>\n                <li>The funds raised from pixel taxes will go towards displaying our collaborative artwork in dope places.</li>\n                <li>All pixel taxpayers will be invited to participate in governance of the GraffitETH DAO, to help decide where GraffitETH is displayed.</li>\n                <li>Follow our Twitter account <a href=\"https://twitter.com/@graffiteth\">@graffiteth</a> for updates!</li>\n              </ol>\n            </div>\n            <div class=\"disclaimer\">\n              Disclaimer: These contracts are unaudited.<br>We think itâ€™s safe, but who the hell knows, so please donâ€™t put your life savings in here.\n            </div>\n          </div>\n        </section>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"AboutModal\",\n  props: [\"active\"],\n  methods: {\n    close() {\n      this.$emit('close')\n    }\n  },\n  data() {\n    return {\n      selectedTab: 0\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AboutModal.vue?vue&type=template&id=1150da7e&\"\nimport script from \"./AboutModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AboutModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"is-overlay\" style=\"pointer-events: none;\">\n    <section class=\"section\">\n      <div class=\"columns\">\n        <div v-if=\"!wrongNetwork\" class=\"column is-narrow\">\n          <ConnectPanel\n            v-on:error=\"onError($event)\"\n            v-on:accountChanged=\"onAccountChanged\"\n            v-bind:account=\"account\"\n            v-if=\"!wrongNetwork\"\n          />\n          <AccountPanel\n            v-on:error=\"onError($event)\"\n            v-bind:account=\"account\"\n            v-bind:balance=\"balance\"\n            v-bind:taxBase=\"taxBase\"\n            v-if=\"account\"\n          />\n          <PixelPanel\n            v-bind:selectedPixel=\"selectedPixel\"\n            v-bind:account=\"account\"\n            v-bind:balance=\"balance\"\n            v-bind:taxBase=\"taxBase\"\n            v-on:error=\"onError($event)\"\n          />\n        </div>\n        <div class=\"column is-narrow\">\n          <OwnedPixelPanel\n            v-if=\"account\"\n            v-bind:account=\"account\"\n            v-on:error=\"onError($event)\"\n          />\n          <div id=\"i\" v-on:click=\"aboutModalActive = true\">?</div>\n          <AboutModal \n            v-if=\"aboutModalActive\"\n            v-bind:active=\"aboutModalActive\"\n            v-on:close=\"aboutModalActive = false\"\n          />\n        </div>\n        <div id=\"i\" v-on:click=\"aboutModalActive = true\">?</div>\n        <div v-if=\"cursorPixel\" id=\"coords\">{{ cursorPixel[0] }}, {{ cursorPixel[1] }}</div>\n        <div v-if=\"wrongNetwork !== null && wrongNetwork\">\n          <div class=\"notification is-dark\" style=\"pointer-events: auto;\">\n              Wrong Network â˜¹ï¸ Please change to xDai and refresh the page.\n          </div>\n        </div>\n        <div class=\"column\">\n          <div v-for=\"error in errors\" v-bind:key=\"error.key\" class=\"notification is-danger\" style=\"pointer-events: auto;\">\n            <button class=\"delete\" v-on:click=\"removeError(error.key)\"></button>\n            {{ error.message }}\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport ConnectPanel from './ConnectPanel.vue'\nimport AccountPanel from './Account/AccountPanel.vue'\nimport PixelPanel from './PixelPanel.vue'\nimport OwnedPixelPanel from './OwnedPixelPanel.vue'\nimport AboutModal from './AboutModal.vue'\n\nimport { ethers } from 'ethers'\nimport { gWeiToWei } from '../utils'\n\nexport default {\n  name: \"Panels\",\n  components: {\n    ConnectPanel,\n    AccountPanel,\n    PixelPanel,\n    OwnedPixelPanel,\n    AboutModal,\n  },\n  props: [\n    \"selectedPixel\",\n    \"cursorPixel\",\n    \"wrongNetwork\",\n  ],\n\n  data() {\n    return {\n      account: null,\n      errors: [],\n      numErrors: 0,\n      aboutModalActive: false,\n      balance: null,\n      taxBase: null,\n    }\n  },\n\n  methods: {\n    async onAccountChanged(account) {\n      this.account = account\n      this.balance = null\n      this.taxBase = null\n      try {\n        let balanceGWei = await this.$contract.getBalance(this.account)\n        let taxBaseGWei = await this.$contract.getTaxBase(this.account)\n        this.balance = gWeiToWei(balanceGWei)\n        this.taxBase = gWeiToWei(taxBaseGWei)\n      } catch(err) {\n        this.balance = ethers.BigNumber.from(0)\n        this.taxBase = ethers.BigNumber.from(0)\n        this.onError('Failed to query account state: ' + err.message)\n      }\n\n      this.$contract.on(\"Deposit\", (account, amount, balance) => {\n        if (account != this.account) {\n          return\n        }\n        if (this.balance === null) {\n          this.balance = gWeiToWei(balance)\n        } else {\n          this.balance = this.balance.add(gWeiToWei(amount))\n        }\n      })\n      this.$contract.on(\"Withdraw\", (account, amount, balance) => {\n        if (account != this.account) {\n          return\n        }\n        if (this.balance === null) {\n          this.balance = gWeiToWei(balance)\n        } else {\n          this.balance = this.balance.sub(gWeiToWei(amount))\n        }\n      })\n      this.$contract.on(\"Buy\", (pixelID, seller, buyer, price) => {\n        if (this.balance === null) {\n          return\n        }\n        if (this.account == seller) {\n          this.balance = this.balance.add(gWeiToWei(price))\n          this.taxBase = this.taxBase.sub(gWeiToWei(price))\n        }\n        if (this.account == buyer) {\n          this.balance = this.balance.sub(gWeiToWei(price))\n          // find out the new price and increase tax base accordingly\n          // TODO: use getNominalPrice, or even better get the new price from the price change\n          // event\n          this.$contract.getPrice(pixelID).then((price) => {\n            this.taxBase = this.taxBase.add(gWeiToWei(price))\n          })\n        }\n      })\n    },\n\n    onError(e) {\n      this.errors.push({\n        message: e,\n        key: this.numErrors,\n      })\n      this.numErrors++\n    },\n    removeError(key) {\n      let newErrors = []\n      for (let error of this.errors) {\n        if (error.key != key) {\n          newErrors.push(error)\n        }\n      }\n      this.errors = newErrors\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panels.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panels.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Panels.vue?vue&type=template&id=6baa6e72&\"\nimport script from \"./Panels.vue?vue&type=script&lang=js&\"\nexport * from \"./Panels.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <Canvas\n      v-on:pixelSelected=\"onPixelSelected\"\n      v-on:cursorPixelChanged=\"onCursorPixelChanged\"\n      v-bind:wrongNetwork=\"wrongNetwork\"\n    />\n    <Panels\n      v-bind:selectedPixel=\"selectedPixel\"\n      v-bind:cursorPixel=\"cursorPixel\"\n      v-bind:wrongNetwork=\"wrongNetwork\"\n    />\n  </div>\n</template>\n\n<script>\nimport Canvas from './components/Canvas.vue'\nimport Panels from './components/Panels.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    Canvas,\n    Panels,\n  },\n\n  data() {\n    return {\n      selectedPixel: null,\n      cursorPixel: null,\n      network: null\n    }\n  },\n\n  mounted() { \n      this.$provider.getNetwork().then((network) => {\n        this.network = network\n      })\n  },\n\n  computed: {\n    wrongNetwork() {\n      if (!this.network) {\n        return null\n      }\n      return this.network.chainId != 100\n    }\n  },\n\n  methods: {\n    onPixelSelected(coords) {\n      this.selectedPixel = coords\n    },\n    onCursorPixelChanged(coords) {\n      this.cursorPixel = coords\n    }\n  },\n}\n</script>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=21d16a48&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport { ethers } from 'ethers'\nimport GraffitETHMetadata from './assets/GraffitETH.json'\nimport { ApolloClient, InMemoryCache } from '@apollo/client/core'\nimport '@/assets/main.scss'\nimport 'vue-swatches/dist/vue-swatches.css'\n\n\nif (window.ethereum) {\n  const provider = new ethers.providers.Web3Provider(window.ethereum)\n  const address = '0xc56F6037596116875ABEa6845f60dA88088F06Ea'\n  const contract = new ethers.Contract(address, GraffitETHMetadata.abi, provider)\n  // todo: check we're on the right network\n\n  Vue.prototype.$provider = provider\n  Vue.prototype.$contract = contract\n} else {\n  Vue.prototype.$provider = null\n  Vue.prototype.$graffitiContract = null\n}\n\nconst apolloClient = new ApolloClient({\n  uri: 'https://api.thegraph.com/subgraphs/name/jannikluhn/graffiteth',\n  cache: new InMemoryCache(),\n})\nVue.prototype.$apolloClient = apolloClient\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuyModal.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}